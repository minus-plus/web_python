<!DOCTYPE html>
<!-- saved from url=(0044)https://www.udacity.com/wiki/cs253/unit-5alt -->
<html data-ng-app="udacity" class="ng-scope"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>
	<!--[if lte IE 9]>
	<script type="text/javascript">
		if (window.location.pathname != '/' && window.location.pathname != '/upgrade') {
			window.location.href = '/upgrade';
		}
	</script>
	<![endif]-->
	<style type="text/css">
	@font-face{ font-family: "Whitney SSm A"; src: url(data:application/x-font-woff;base64,d09GRk9UVE8AADQ2AA0AAAAAW5QAAQAAAAAyBAAAAjIAAAasAAAAAAAAAABDRkYgAAAJfAAAHmsAACUQYZ32ekdERUYAACfoAAAAHgAAACAA5QAER1BPUwAAKAgAAAe+AAAg6tvZjUBHU1VCAAAvyAAAAFoAAACA6gstjk9TLzIAAAGMAAAATwAAAGBb91d1Y21hcAAABpgAAALQAAAEND7Qq2BnYXNwAAAwJAAAAAgAAAAIAAAAC2hlYWQAAAEwAAAANAAAADb+dK8taGhlYQAAAWQAAAAgAAAAJAfQBApobXR4AAAwLAAAAdcAAALepQg0L21heHAAAAGEAAAABgAAAAYAuFAAbmFtZQAAAdwAAAS6AAAMG2Q87hhwb3N0AAAJaAAAABMAAAAg/7gAMnjaY2BkYGBgZHBktrj8MZ7f5isDN/MLoAjD2SWmG2D0/1v/nrMYMx8AcjkYmECiAIKoDkZ42mNgZGBgPvBfgIGBJeP/rf+3WIwZgCIoYDsAmlQG4QAAUAAAuAAAeNpjYGIKYnRlYGVgYdrD1MXAwNADoRnvMhgx/GJAAgsZmP47MDBEw/geam5eQEpZUYlZ4b8FwwnmAwwfgPz5IDkmIaarDApAyAQAzFoPEgB42rVUzW7bRhAexXIS58eIDeSWwyANjNiQZEmOnTg9phCcAEWByEiQQw8UuRLpiFxiubJCIE9RoA9Q9NA36K3HnvoKfYW+Q78driC6dhynaEWQ/HZmduf7ZkYkokeNX6lB1e8l7go36CusKnyNbtDU4xV6SIXHzVrMKq3Tjx5fh+dnj29QRr94fJPuN+57vFbDt65tNHY8vk2bK197fKeG79Zi1mln5VuP79U4bNTwpuAVajTXsPphZe5xgwZ4VvgarTe/83iFvml+73GzFrNKD5o/eXydbjZ/8/gG/dn83eObtLO6iFmr4VvNh6t/eHybHq395fGdGr5bi1mn41sbHt+rcdio4U2HX+i8NMkktvz4xTb3Dg8PWtzv9rp8pNV4qgxv8cAoo9qvdKaKDsfW5s93d+fzeceWuZ6YII/LTqjTswcdbQ1e8Uc+G/JaTWbTwPQOegfdp+2DZ3uH+23keoJ0/fZev4tlb6/7pL//Rpki0Rn3Ov1ulwc6s2/jxGaq5GFolMqGaWAsJwUHbE0QKSzfsx5fzLnF8zgJY06DkkeKjZokhYU34iTjUBkb4H0yM0kRJaFF2qJz4TnHMRIWemzngVEuuY0V50bnOKL8ZHZ+7Eqx3eF3eiYUMm05RK1anOooGeMdgY9JRjOrWqwNR3qeTXUQ4fxaQnElWWGD6ZQTy7Mc9QmyEmelObYaCYh1YZ13bHQq3qkOA6dJ8huuGmQ1zwp19nwnqJiNTlQofqftWJm0cMKGypwmoeJgguKnKkNEHFhWH0C8QE3tHD3hEgKDLJLWd/jlGEpxIgq/3FbtaEnoohbnmYwhxHHPZybXhepgAAyK5Thm8KUiqMX5VAXYe5oUEPzJsdydq9EYA9Q+U8gQlgBKZUwh5fw+/vyUnt90dRb0gjTlVJKhhCYUkyWmx7Bu492jQ1wH1ALuUxfrLtARdiga4/OpsItpC/cASMndplfwZ0AFdeBxJ1pkeE67uOZydWApYdPIaCgAirHuUAhLeimjI2QbIAPTR9yXnfIaDCY0A8sA3h5UuLtLT8HwgJ7RHpTtA1e6nnh1fVj2xFZ5e1h14e1j9UYUFmDl9LnqdCSyK/qdzdJbcEjwdvpL2Idg46qiYBmClePi9CQ4h7FyGhz3CBGV9z1sGtX9kjq7/swlc4gny0ku+wheluiJZLR+byQMnIZQLBbx1foEFTMSG8lp1qt1vbw6n2Ph4hQWosWCXSBRC+UWEW6Vw+q6XbEo/4V2NxuLqdiWiXsH36xWhQxrK1qruWqJT4vCsV9Hvj5O+wi7XaVawsaIV0NBBjZaelXxv1jhclcidXO1neJimQvG2bmfnwDP0vNKYZ35/ixPiPEu/Ly451iqldb2OkYhVos+LfUb6fzyH2RhddkLqbv9bIcKxI4wD0qmYLF/0bdjYZpKZNWxoVhOZWqUMJz4yU9l+q3fHQhS9MFXvPBz6hhU/xOGsqqDTmVU+9c7dS8lWyZsHMdq4i/KVs/Rqp36z7m4Sk3GviOLuudS4Vz6o4TXwEek8la+/9W+tNahlux2cx34vKeSterwl38td6VuI8nkdLcvmcjQxwS+p8uvadWVq+Tj/+RbepVM/0Mt/gZ7an8tAAB42p2S+y/WURzH35+HVIouCA99fT2KiohELiUSut+FchnpQiuE3KciUaT7jS6EWq3VVlOp9Vt+SE1a0lrz+BdqM7P5fjrP96E9z9bW1nd7f8/n8z6fnfM653wAWMAoVxAMoa/ISM0tLWaLsQWVsIIOMjzgh0AEIwLRiMVGJCMDuchHIYpRjla04SGe4BleoAvd6EU/hjFCk8mWZpIdOZAjOZMLeZAXedNi8iN/CqYoiqYYiqMdFE8JlEQplEaZlEWH6DDlUB7lUzGVUjmxxknjounW/JAqpRNSlfRLtpe1siTrZE85VH7krmMWrLLgnK8yhiISMViHzUhFpspYhFJxljbcx2PB2IlXeCsY+zCAEYyRtRmjZMIYRCHjjBtMGNPNGAtVxlHBqNW80wyMM/6U7WQn2VVlDDEy8hDreZC/8zf+yv38hT9zH3/iXv7IH7iH33MHt/M9buHb3MxNfJ3PcyOf4wbDy7A161hmiV1ZK7JZbMvThZdomFNGlRFlWIwflR7lvdLNfiJ+o3QpL5VO5bnyXGRP2V78bYCxnrHXQw+GOobaAH2Nvkp/Ul+pL9dnD44OVht74L++LFSY5SVmcdl4dNrEbTCrN87UCV0wcev+slONqK2FIwL+yFm8+YS0onOD/0hCGNwQbqYzOAt30cUTqhck8+CJKFXeWING+KjrpqJArZjwQVb45xURNBawnGQ1ecpU62nTbWwN3gxgJjBrtp29wxw4Ojlr4eIKzJXcZLjrPObN9/RasHCRt89iXz8s8Q9YGohlQcHLQ0LDwlesjFgVCbH9akSvQUxsHJCckgbsy845kns0L7+w6FhxSVlpeUXlieMnq6tUgG1r14lOP7xlY8f2DUjdb7DWG9E2xaPgVIIx3ryrFYl7Musbbty8faepGahtRPs90RPYcesudiPJWJaxF+kHsw7UXbi29dLlKzuvX734G5RI+FN42mNgZgCD/1sZjBiwAAAswgHqAHjafXkHVFRX1/aZwTtzAzogekGjmUGxgCLYYo0CKmBBkCaKogLSpIqVXo1lW6mCvYsFe0VFLIgdNGKJKaaZV6OxJfuOe8j7n0GT6Put9a9ZzJyy777n7LPL8xwUrFkzplAoBPeE+NnGhp1swWQHhdxDKfcwkaVmE5ubhNPet5fe+gtI5gWfMWZz2VLv2JK1UjIFE1hzJrHOrDcbzEYxXzaJTWfxLIUtZCvYelbODjGDgrnNSUqIipgxK3ZOZEjYnNnhjmEhiVFz4iNDkubExYbMmW3sh4UkJcQ7hsQ2dSKTQuY2SYVFJ4XNiYuIDZ//rwxvhCaFv5ufHR07vakRFxL2fm56dHhS+KzoWU3thNkhYWHh8U1Kk6LjI5u0JMTFhfw7HBY+PTo2NsTYTIhMiA+PMbaGJyQmJ0VHRs22sRtub9Nr4MB+Dja9e/bqaTMyIZyvJsmmi417En9Pj9H8iVmONlGzZycOcnKaN2+e4+xkrieJbzDZkb+pyapGs3JbMRMFUylYFGOfqLnRWBvG2gmsownrqmDdTVhPDXNhLI2xYUrm3pwFMBbI2EQFm6xkIQpuVpbL2C7GgLEZjG1jLIuxTYylM5bE2ALG7c3mM5bKWAVjuxVsP2N7GdvH2BLGDjBWxtgZxioVrIqx04wtY+wCY9VKdpGxdYwVMXaVsVoFu87YFcauMbaSsRuM3WLsppI1MHZbyXYwdpexrxm7p2APGXvAWAFjPzC2mbEfGVvF2FLG8hlbzlghY2cZq1GwDMYWMZatYHmMOwTLZOxLxhIYW8yYK2MiY3MYi2ZsHmNzGeNmSmYsRqHgkqVMscicHTc62BBulGB2RjFQUam4qmhUOiknK+cqv1QWKNcodysblM+UjSatTBxMhplMNtlmcqBZs2Ytmo1sFtbsWLMfBFFoJ7gLAcIi4TvVZ6ouKhfVaFW4qlB1TnVNdVv1XM3Un6q7qB3Vg9WL1avUG9X3xVzxiHhRfPPJp5/Yf5L8SdYnyz751rSTaYhpqulO0wNmlma2Zrlmz5v3a57SfEmL1i3mt1jUQtaYaBw1/TQjND6apZpdmlfmgnkb8+7mQ80nmh8wf27RzGKcRYRFmkW+xU6LmpaeLYNbxrfMbLm6ZXnL7y09LIMs4yyzLAssKywvtgprNb/VslZbW1W2etDq11Zya7F1h9ZrWu9sfap1XeufWqPUSsqXNktvrJpbtbYaYjXFaqt1V+v+1t7WU60jrTOst1pXWJ+0fmb9R5uWbdq3sW8zsM2oNhPbzGmzqs3eNlfafN/mSZs3bRPaHm4X325eu/x2J9qda3e13e12b9ubtDdvb9O+e/vx7ZPbL2xfGUKTm8lr36YZ1qruTJRkEcjL8KlA0w0jJdDnoYehuYDZcnMJGvPIQ24uxHtLyCUMIggaqtKQNb7WB0l9YAtNPJQtUF8Mk/rCZpp4JFvQoKN8Wx8g+ZXMoECaArvQ1wdiyJe6Q9FYtIZoiiAJYCyaQRyNOZ8p7MJAnAqx5HvRKIsOkH2ZrGEvRiAXu0ymINCWsRJOaXpyKl+A7CDbyaUSthx2t7uDqzO1JIs7Q588/eoeWmiplWGjhBkoYzb+6VtKGSRTNqGgd0avj59w5k/c5U8YavG+NCBqtIdHxPVvvqu4Wndj/+gBWnkhGUfH8NFr/45q0F8/Z7VEfdBR2H9t+8O1/xHdy4SMfnM9EgJESsQZgu+52fvgNFw4cvQeVMGFeReixNK7QuCOcetGApmDqzP0gJHbplUF2ga78hEGZPbLULSD3+G7o1fvi9ic1ILBpEbq7nHxgQ4azl349YCIMRQijHdzi3EGUUM3cTA3/T/Wtpd79JSoN7b7HHWAAwBdGpAfwSsxo14gP/rEltudgoB8npMO7amVqLE/p98rYW/69BHZAPUHcnUlDTl1Ele7CeiHpq+xG2AQoI8d6sge+ROD5P76tlLeJuocn44dkyCNOlKnnblzsJ2vK1muz3iO7DmxDaud0VLQ3JSNBr1EcRjlSVEU541xFHUFo9QaOovjUSn1BC9adpgvnSR8i3ukBtrn0jQ53MrGVHNCvqfPl0aWGk7+9dmNdEHzq2zAwVItaeTkPmp6a8iBQFkDQINvAuBgwaNWotOAp2U7QbNd3qy3lc4ZYtVFo2QLoJON5rdS+WuO4kh5gGRj+qPB+G3sezX1f6YrUq+/F3NTPvpYglsGOwyQ7dAf6g2zKBP8BM0b+Z48WrpmyBqtlrMoTbpuyBql5uKX8GsJzhuSMBOGy3bkb+B/4CZosuVU+byEJr1vkqW2P7jE+UwTi4cJNSdu7L4L38OFaTAC3EJDSeMnxqavJtfKoiK0ENCi9m4VoFIkP8N56Y/PO6g1GHzCqoPpgb5SR1PNUfkohkvw27hzvbfU7Th+Fu6JyIbeoZ5aGtYYja4q7PdHPep0pMDvJBe/AButAy59pkJWNcVVt4d+lHqPmEBqbUfc90KFpreDu+k0aKu3qpFsTTUYqffF/0rcyzpgV1qhpRCuMViFi9ABO+JM3ZAlEk0gjT35acla/h6tVeiNll0oQKeZIc/jFq83aBqjG/ARrlJn1dGX/FxW8SwwTd+3RsK7tEFd7I6j+IlFC0HxgaluIJJbF+6iY9HrBf8ZrPsB6uLPTxNX3xN8Dg7f4sjnI+kzcqRZlIRtqAcm6Z7Bw/K6o9z3e2INjpDkE86GY+pB0yJctHGQtHxWvljsJqxbuHXRFhBR/fVFbKnT/KlvVywZWslm+F98bAf0gr4F/NYFgK8UQP5EtjRYCJop8hyrrHo6CqC3bZrjyWXk205W3vpoJ6DVjSKV6EVH8GqMvg2n5EZc3aioBVytV5wyNPItlvBU+V+pk+kXS6TOppptcoW8VkLrHnfIUUtjjSa58KsKnVD5Fdrqhi6S7N0n8TPohof+UKGqdpIjP4PSJg2YRFrsQVP4x8a4cS1QwGPij/qIcgeyK62nrO8EdKp4g58C+otfLJZobCeexPpQ745oabTkK27JPtjnNZmTl1ZzTX5SJFEW3hCebbp/HbCZiJZODdRdS77GVd18rsI8ahB85C1SL+4XJlo73I0mKhQuBH6u06yUl6Gf1MVU80B+xU83q95QBeCGC7l9bBuMluI799V3xZ1SV+48PvoAfbQ0CGhZoymt0rd0TsETjdPrjGn6yttLfGoIkKfhDUXIb4YChfGWt0xcaG5j6FXAOL0JxjeaXOfiaKO35asukwXMw+cDgCbTCQrBMy6pmEU/U5mhBT/BJLyHKfQtl26j78iV25lqnssvrexNNYPlXmQq5dTQDL7EUowDqKEjAH+ZC5oT+rZkKRlOvtWOTJdP/qUVNINv6kulwnHIZRtLicuOQy771twYvce4mlrDQS+1RlbKBqmbqaZMTrXqbpqMbSQHU02tfJHnLHTr8h210DpDwPSwUBHwqWsGNK4QLs29kn6XO6EDqv+DATrnRRI5DPEghdYXIgqjVot4Xn36/Jl9l0H86ao7tdZpMuXcU1IPU81aufSq5GhKSXI/yYmnqOn4rT5OyqoTMpdmL00BsYf3VHsdte7n+b0h8is5Ei3U2VdIxSNNI1zcvblKuwlKFxcvFjW75MMhEtwfuZc0m8TQAqHLutn5sAlKSlZvKVmzaO2StYAKeHqTuwTsy9qVvF1EZUnmbdKGCBE7J60ZDzbQzR2oGQw77FcbHzF3/hyYCXNXz9+RMiBs2mQYL/ZEZTB2QFs0O/9KSyUPpaoc4XnyvtkQKgYOC6VmxFx3ndPCkX377+3Z+OW6hTu+FNEcG6QRE/wHDpp4ru726eqvH5wLcNNqzslbrWQL9Qv/S6TUuoBXuM8kbseXRjvuvsMjtJVQe+HS3hoQb+0J9dAZFLxC7MPxvPL1NE1pDJJ6mX7Y3y3J6Gp4oZ46OzlcmwbpS9OWi8UjhcIlG5aUcQ1nK77XaTLkzfkSleMhLMGsbkBf0nyQl/z9PtyLO+iIYFTqZgX6403j3Ic76RubljnBuExnGDPda/y8msl7+oMrX7L3RDHjni+AYbtxxZJQe+7i3gsg3i5vWvEdubW69nzTyK3y93sw7rq3qaZaPovrpD6mzlZ9TTVX5ctNHtXZ6FGDISBs2qR3ahtn3SkBjBIOpZ7KPse96lM0NXoVzyRkN3R4F60fhBRN2yjiMfWZmtP7rv3jVLXyVgqQ9J5qrw1jSzlmoO4k9qAAcn85AM1096D64KHDIm1X4x/NgvwDIzxB7Du6Dlujw/2bqNCdhwM5FRk82TrjY6vsy0LGormLk0H0nr25WsdzvFadc8WI33DCsAygMf0APL/nyf25YH8+5pF2D+xYWbZC1OTJJfJ2iQd8X4M39ZfHu6RjsGHrLR7meXL+Kon8cSOOwsLBQB1oGnXFKNd09KCVHLBsfQjYDWdiX0oWNCvkLVzN56aaXDmZh2V2TVcQ3BN3V+vgxJpaqIRfJ+1zKxOXq+vLKvfBYziVeglOiNXle25oX9V0VJEqMLC7DgJLJ0GA2DcwYYR2KhT67gXh1tmEvjrwTw+CQLFHVSCqtBpaiAE0WYK3C0ZmwV8LBE2uMUUUjfsdhPptMQE6CE7zgkngWBlZnyYuUrulTYoEJwgq84Ypon/8DA9tp3FveFY/W/VUB1VplVAt/li1/bb2KORciAZhxPgdP+qguuwUVIn/GV9F/IVz5UR0lHJqhYCwoDRfENPgitxa2J+3N6Viplh8Q4hfH7kmJF9c9yagOJlMFnEQrO3YnfrogKzr+j1NFJOJnc1YhyZrQaiDC+tPV4j0BPkGsPnV26+Xi14GjTBqa+gVeCJqDtXLLaUxj9Sf0zoOnuIh66rBGr7FVZgCOVdpMhxHrbDr6eEjX8Ne2LxoW55YdF1IXDVzxQyg5jBmXChZioHUi+fcT3iVWSnhaEfyVhX5ohtA5zqAlzga4ALxr1/RG7Iv0CBAkDt/ARz9kUDxsnJECuYZ2tEQY1H4XK+Sfnfoqu5oZfzW4AN9rbECzqTu6EhzaQ53VieaSTOR/+Jc/umGPXGmNpyDkEhqT20pmBcGHbbFSIzC9tgGg3ES2lAbitKSPw2Scs8LU2NCU6eCOMD/+pOnZ69/rzsK+9MPxYtFF4XwzaFlE3lAiAP7UCuy/LoviroqqFx3YBv395b4XG7BuYO6PnTvEO0kmJ4VlioWTBQOrdtXdADEY1tTQnUpauqWOTqER7/P4ejLcAIObSzfKuaHCWepvZRzhjYATBD4whKlmISI1GiIgjnroRwO7tmFrUpEzVE8z/25n6ncCdfyH80f8hN5g4SONn9ST+pFzIYcyPFPG+zF98z+RAdtnBV16ObE4VB7+8c863b47TF+hu2fOZGtlpTUWuqNZsK+oh3b4Jh4NrTcUzuYDh9Bsz2qn0kjzMIQKSYpdbo28rcDqkObkmN1Gnmg/lPpCp33VGv6yk7ycemp6+2udq7Du3e74/b89zv1v2nHWY2aHDRyZNCp61crq27cqAwco9XIrTgi788Tbg26YJmEyt6k5Cf3u5PksMmeup0xckJz2Uw+KL3yru/ew8utU+da9/88vVT3UptH1Uaz7G8yywKsljxi/UeNjjl/4+auc9ev7/IbqeXQtoobY4DpNP5N43Grfwb2pxIaTGsvc8XZ13GQRCY/uWNL7fdwp/ziUTH7K8E7eFTMUOgHvkfhNtQfPozm58Ty0gwcNikrmywEMvd2DgRSiujHoXiH7//4CEzjUHmxNND0o6EavSQN+njogJwnDf546ILcKH3x8VC5nC896emg7mb1pJeD8TVyur5Quhh8YqxXcLCPFqavj9mVItKuxi/u8/BIw2/gN8q9s4bK9X2F8nXruWuIxKiVhFp6QjtBwClytBSRmBgRmbB9//4d2/ft354YwY/AtszqG+BwPA25i1Ga3AWgjh7yNLwTSyG7jlbw5pdYz0cN7jxXeBqcJZwnq8CgEv5B+uRG9pLTxp5kc9qIt+bpQz+C/aF0zV5VMvKRMZtzQi5wfT3+LwHAXTjqBo3ChR/yACyRvfSHuVGRDKP+AcR8tOGtC7cr3v1o9EPUTCInV4ObZO+8tePWxeGG0x9qOKk//YGB5dkG3//VBK/ifgi8Jj564VHqNULwrRy2ox/QFDBCaaBZ0Hlnn6rRYr+uN9Mv1QsXgr5KfAQ4BdAGnTicNCbNWqkOLs4+HiYaLA2+QnTV/Dr4GtDzNVpgH15119FlDrdtyYL6at3BZ9OUw6JsKfsKFYHrPWCwyLGw3F2/1bj3asPKJkjsKx9629O47XV/D7xHy/SZvLJps75yMefgH2xrsKG0SfJvVIvWesHokBXyAbk55xQOd8hByxlBJxcjgO/79F9asViya6IVXTmwUTTxCid+HnZ6OxzAi4Ha8TqNOlL34Pg1+ElEE/c6UpPoOoQstB7vseQL9YPjZ2/VH5o8TAvO00e6fSEW+gkYObVqDOepHhOnu0MA+K0L2CVmugtnEmrTLgKawgMO3U3Ej4CxE/74v1i5Wk42po0Ph3ZzqSEfD52Rg6WhHw9txmcf1ogPp7LksZKz6RQrF1MOz/V/crNi1xFoSnbaIeAZHeY17+rEXd3BBTzneyaKRaOE2h1X113lAOxQvJsuQk3LZ3X1Mla1Hl9NeMEBw+3Dl6uPj62f8ZAT81vl1cfFrBuCb/DomOEcCHvcW4xWotxKNfSiROdVpS9rLv8AP0KlR353kfQ0WvIePzp2JIyBkD1QDfW1p3HGJjFNDUGFU0sjxL+RPWdpHf5Nkx/D/H34qdFka+XEpvyKkw2nPuAAa+UgTj+GmGKz/xn2/aiCykpDzYfMwYhfe5nWvWMuvFffpHu9wfAeMlc2KXX/p3/oI204tlFlnLiCJ+UGqeZb4cqEw8PXdpm833ebC6+b1rYkUhfq+doR2+quwNkNx47W1uz7FbAtoIsfWhB7KJ7/xnN1iKcwdevE9b6lYvZY4WTm4dT9c8XBpBbuGzZLncd8haaouPHome4mXI47FbQ0G3IgW6QRrp07at8j5F36uUan+BAn86L/2rinajnlnbmS6fXfELpanv7OVh0+HPv32RVy3Dt1kz62nQ01fiwOd+deiTohXnvgWTotUAjdM36tDxDHXKwL0HAYusGzIlj0HHI14/Ap4XDsmRQeDDacUb0AHC7SMoyVjsGBtJ2JIhXQRWFeRfZxOAPY5sZ3f/I8MoJiJWrj3t9GOw0iSuO3iZiPNcKGqOIpMFH8B+mis/4rY9B8RAqGwPjwkCmcHj3ntOSv+f8/VtBZ6/8BK6jcd+MfVvDPG2z0Iz+Mrvceo4mXBXmQBA3k6gh4x5lXgb/sx5e4P6oEOiK3gHfXJLia1/pcnGQFsumzKrhrPx4Q+aIMlrb+Je6PTwP9yDFe17edrOroAa9NJWpem5Y11aabxto0itemhdSDbDnEm4EdOfJfrjtzUwpUkTdZvkR/nIia39BPV6XSyKPeDvkgvHuAW1DEoMiHrqe6cEfU8hOh4TT8jy5oo3sOX1UeeLh/UMOkZzyO68vPvYvjyaNjhxtvWEf+HcjO7wP54uUfeSCf9CjoLhpajpfIcmxfzlwV3r9weGtR8xMqUXnViZv9n5sQMuiXSa4fpOdXcs6HVf85er8dxgVk9V/DJHuemYY0eaMG1fr1EragfvWALbBfENg42Tzm9hmkT5fGFwnpU6JnToDxELUt47gYmC0Uj6j0/xWewMnzxfW8rtzSm0gvunVRG/FXxN9JD/fukSKmCBFT58VAJATtSjwPm2HLyo0F4kl16sLUxWkQB2klsA02FW/YslfcfZS/zvNdMMmh+iKp1yYOyZ1PghCL9u87J4ywPAL3SrcN2uH8bavepmCFdOuv3iOabmUn6IulkMLetOxnI847ixM5L+oFoZRnvH3mfR9UNvVzjbeoHT8SxyzMk0ILe9GyX8A49+GjeACXSz3/1tPx/c1wWJMaPrfsnU7jnB2SrJCSUSTFOlIkzydxPYmomI+K9RzFLNeHWaGyF0ek5GFlY9r0pSG/90Db2LrTBC81rw/KA6XfVIvmLJkDsyEFUpalinZQ6PMMhF3U53UX7AIP4Mb26n1i9g1hXIjfrBFACnBuSMQWIlZcpGOqxWtgLayDzUs3LePxVQnZF2krCDvR5E79G6iHU7OrwsWSemFihc96V6COYNs9guxEG+7K5voXspUUI1t7ArWmepKwfgzEGqyrYAtW8bR59higJVZvprOCYTz+IuWdomqAIGzJo/AX3sJf+E776ntzhvq2R0d13AN6AbFf2AIYzgjrS9NSktPT5+voPMaoC0txCBSkCxH6FdKl9KmjDqZPH5KqojnoIq354tSDMnJJexD0RaoKDy2XytSrFhcuWgViycpVa3T42Rr6TJ2UlTVXmwc5yxYsE51uSQvTF2YsyBTXxWQuyNiyBIQFaVk5GZAMmWWwCdYXrFlTklO2oBDKxLXFpevWF6anaCE1Oz09U1wbuxSE5YXLS5YViuhCnaWCWUtVG7cUQfK8jTOzIG1DTi5k5oIQWSZlpOWe2Kgqyl+Qo4PcLxd+uVgsSckBwWWJlJZdvLqkqKSsrCgzMyM7K03ns1VavakI5sdDSi7A2vk7C3k+GWpVkZeYuSVvVsb2vCjVmBNSAWyLgd0FAMF5MHM3xHBlqDIOF0UthZKKfCjhv0UVBZA+OQey9i6BrGgu0oBTpaLiVYVQIhYvKMjNXZCbpYXslTn5GeIaP2nuQSEnJzcDMiCtILsQCiC/YNVqEbuRhZS/YsXKlQuX5+myUlSBqVJRfkFhQV5hdnZeTm5Ofm6RTuOHBn2IEc35ye766VLfDbbU5xgICajj7Y7U5zgPDj/cq8+TRmQIa+ILkyARojMTE8PF/bnCoYryY1AJ23K2ZGwRudhv8h0jefGTbXmDY0m/P/VxxtzkJ3fQe0kTeFYJiZsVBBMhZkvmEXEizyojj0/4AX6GY1XF17kCubd+lJHE+Mk6+aVUS/u91LzdXv72w4Tmh1XyQ+mpU3d10+IHGgmNl9fkYB/vkyG1tSeOXNJOtYqYmRgRkchJynb+t81IUnzQ3VGqSCieCzMhITkmdKp4Mkc4fXznQTgIFWnbo3YY1/91338piB+u2S1FhwqR0+bHQjQElydVcbfavHJjvniCZ7O0xemQAOnFsAU2Fq3fvEvceZhnqn2t5RqpoBXraPy3scg+Y11YNANWrjBR9FB4KEIV8YpyxRkFKXsonZU+ygnKBcpNymPKX5VvTZqZWJl0MOlm8oXJHJNFJtUmt01+NkFU9uHJw+wBPObk6qGRnjWsoVP6sCEgmOFnnJXt4I2sW4LX1GFxA3np6W+L5uiJY15xfjBIdw+uxV8MNf7zwveA2+Z+fH76uzt8msUpnQNO0/0M3+66cEQ0+99LfprJBRxxCv9wLoJJWjPy7ETm7y71zXEsjjEykN7GS30L8tSawZ++VWRTQ+LpyHK4BpdPnf4JLsPZeUcTxeIGIWyz/xpe7SzAiaceJXSuCsbOXqgKOhDNYfzgkZP6wFBw3z55p5g1VDgzs27+Q45L4GUDoIVoJge4GPzV1H5YP2pPWvfH2FYrj3M2BKlpyBvOOdz4h2EzHKE1+xx43dbTfJkNScUNBs6zzjTw7FQlmGVfN3iB7CO/gHOG1VA8Su4FBh/DC/AXzKgZOtvPxT7UTTCTNWpUjK1uwjSe88d8BNGPxY3QRXGIPtuWY66W4Fg/4Qnch6v7qk6Iq0cIZgFBo2LHgQ+ElMN5uH35FMZtEs2yb3K8HpDiA2JH1/vYFtt/1fCSA9Mzc6pCxZI7wrRd3ptd+Zl0oGb25E4jkHXFDroGuLTxzEHRjIMEvyawT83A8+5itObEbo0Kuw7jgMOe2nftQENozOse2En73Tt2YPYznG6C/xxF/HHp4jcgmu2ctSUuLmlWfPzWpPLyLVt3as3k7a6G7Woz2Vz9wr+26W57bLjXBDHj/j8Xxf/natsMh9u8oI6k+xfVdOBOoXiBw7lXtHUfbNvF/TuUOJJ8+OpVfX+StGZDgQYYvMm56Wo13LB5tr8w2ydh3mRIhbRlmcvE4lFC4eKiJaVwDyrLD74UzcYC+dFaDKSt1aupH5YIZt03koqcOS0xo0DcGpCB/aiEBjVdu5jZYt8e89CebAQzxw0dqO9po5SADh7AEYPDSfj90e+fC2ZBRUJ2WGZaMq+m6fnh66PWpRbGwVSID88aJp7KFgoPry4zFszVuQfmVySvzS2Ho1B+oPi2aEYcDbkBcWRUCcge/+kkmE0sFrJCMlLm8+KSVhC2IXx9StEMmAIxoVnO4ulsoeho6Zr1XFdZ7qG5B5LXZe+G47D7cHGDaFY76dTo0UFBXp6ngq9dqzxxRWsWFp8wfXrcjkMHy8sPHtwZN11rhnzRNwH5BiZD18+7PhLM/h9YZo1UAHjaY2BkYGDgA2IJBhBgYmAEwu1AzALmMQAADCcA6gAAeNrFWmtsVEUUPl0qz1JbWsqzFARBRKNoo4AhgiHEqNE/Jv7xjzEmJiIhKonRYIjxkUgkISgGCYhpgRArhvCIBGigoZKaGCzhIS200Af2tbXdsndr2+T4zblzH7PdZ9nKndyZO3Pnzpxz5pzvnJldyiKiiVRKL1NgzdqXXqXcdW98sJ5mUzbaiZkCKLKiaoE3N7y/gXLfeeu99VQoLVmSE96PpTzpFaAp9JzdPvcTlAvkORut02kO8izKlW/yJC/Ss+RSPs2n1RQoaVJzFj8/ZwetoafpHlzcossDHOK9fAJPu3TLH7jD3K9rQ5L3cpeud/vGOKd681W33mZ/wTe4CeUNX8/+JNREjNmstDgJcxh5j1sbdN+gjYPgL8QtMsNkaR28K7kNSvJRyLf9fCANco/Lz6CiSD+HbPnZpTeaObpRs7gRsuzia7pex/Uql3muIG8AX5f5PHppetR7KW8k5KHPqNWYczry5xNcBsmd9bixeUBbtdIC6XlJjcaH+ZqiytWAC+CyG3TbOjNBfytcYMwuzUsz/42ezWqM4bqp1s3T0jTWJxKn3ZK1sFwtUdQHUxjPypC9XdH6MYi5e0QzOw3NbzNs6GJMe4uYa6f7hqADlzHmBd+bWl1u5dv8He9VT7qlSvIuQye92fpMveB6R6N8FFbz7yqPwWMQ3LUrqY5g3dR6tPOdZKglunFTUKZe6u2wglpud3u06rI5DQu4GqfXCf4G+Sl7pRxrh6QboLXtNsLY8wFFmwWFuuFtRFZCXcTURu6QfKfuY7kIYfl4axHeamPy1pkKb+nbim/dbhvvTS3pS2ZjxrchAyOHVNIWENKoHAGHQy4qh1OiuC967Tzr9lAZq/EpNPc4ZunxvITMul28G/ji7bgr+SDv4IPyJNbDG/kIV3Gro0X6252S/6D7lPMeSdt5j086nX7sltkiNAoXfHUZ5HbaXi9n/UTeFS76HxDL3Y2W48qONeJWAKfroaeG9vBhyTfZrXwSiHxJ8mptAYcxU5WNxj4fEOEzbgRxEncj+p0RXNBYApQ4BzodH+B8W619QEj7CccHXHN7NGgtgVcXLQkrrUcesZGQ/zF0ssZd81seUop3avF5rS7XmzYqWnXrLmhJLXSlxUMrmUtpSaWOHraKbuzhb/kXkaD4Vf6MD2EF2hxE1Mhsa8Pn2s+V81E+hvuoWg0z5oprhx0GvfWOzPlm/JhFY4elJJk5ZHBHr4vrTQcy5xtTmQ23FY3fwJQKiUBVLFQxSnFyGe9Dftpo66Z7drk6klD2Cr8gsZ7oviLJXkeWglKtkoeT7hM6fG2XE9Pm1VWLY7EpRfKWfx8Qp1dngncDMVsrxZoa7adRWxlte+JPditctREhXiTJvaa9Ak90JMznpWYJEhSqPShQ9Try655PzgjFrXSPr+G4Bu3ssKNl7CAqBeEv4q7woqBUYnQ72tbPx4x9BfaH2HuE/LuwmGNideh+H8I26TLoRjT+3UMB7mKaq2OcZjvC80W2Q/+/JDMyatAv90RrkGCMf1006PWiI7kmGh3Hxohtl2eQl1Dquz3E3W3gvSFGjyrBkhZo5+lRivC6Hf+CyOuIitAQSd1CxNGXofHD3I9owUpFHiP23XM9RJZIYWBUlX/hiHabYSOebDK1z+8RXZu3omKuAez/rPQR2TgZiyRfB/TpvIsTPivZuvkihR4fDoMz5L3Re2aFp4hsK0FVxd2enLgSrYPFWfHiv5Q5rhnRV7/yfokib0WdtESGe0pzHTxp6fohozop5mzl/BX3qVNT3/6kz/TG/KdZJvLWfk+XiLZh77uidkeHdBl01z8Yd7dxKtq/pRu9poYl0ajhRK/pWQHwdLfeodeIR9tvdJhgSpM3DT+NGIn1xR4/5ShoE2+GhlQa3rdbzlq3uPH9x7r9C/vkXiz5S/5Q+21j9XiHF6NCHtv4J/5ZnXw47SO0t/r4566xvVWqPsyJl3Q8FdTlkBmbGJ8Uj+7e1IwjMuf59alGXYJztHDqp25G9OqLuRBD9/r1GjIKx0A327p/M6OFNFDcme0vXbr+0v/7T9RsJsb1pzDbnWHnk84vCkPGTmySMVtvjCjISs5dXEmGXN5CcXk7m64kk5wPJbK39vTtzXcu0GVGNrFiZm/n4+540vb3sT1Q6nFrVFMWBaiclsrzTJQKA2ZJ9Dkf9zLEhU9RidF/DGXTfdhpjKPxQOaJ0JEcmky52OnlUT5NAVeFNJWKaJqHJzSdZtMcmkELaBEtQf0RehT5EqTH8GYeraCV9Cytcr9YTqv10+Ioeh+mx+XXZCcFhJocX5qik/rF+CHM7KUZQoOdvEvR4KVVoGcVKFLeOYB+ecJJ9DUf6Ql6EhKycyWvxaAtC7SU2XteUKB+uS6CVIvAbzHeTkWyrwflt+4x8jzG/u0cX47RbdGytUdTl/r1uwBpFjjJB5UPIM8X3gpwT4NUl4KeUv1FoY/iEqHGv7tYGCVHe3YvjdcpRzQi10gFbpqnEwkNXioFXaVoszksAE8OJ/5rJtIirBLpXMmrROSp/iOg7oBIZhwonICUDYnko644zYHsl2EdVtAzkO1KWgspv0AvQl9fQVpGr9E66NF6+gi1zbSFXqevaRu9Td/Tj/QuVmkfbcSo4/U/E5D+A7WOwYwAAHjaY2BkYGDgYjBgsGNgcnHzCWHgy0ksyWOQYmABijP8/88AkkdmMxYXGxgycIBYQMzEwMbAB8QgngBEnkEDiDmAmA+IGRlWADELlGaAYkYGtv+REFkAoXkMpwAAAAEAAf//AAp42m2STUiUURSG3/NeLXfVwlxMIaGGqVnY5ERpNj8MggpGTIY/KG6cIWLQoUFcBK1amkIuzKAW0cqiRbUQBKWEEcFombTQRS2NNkmB+t4PA6FZPDxnDme497z3YxlgR8UbdHMNYbeKGH8hjN/ots+4LSK2iVbmEbcjqLO36JB7OLS3wUlcZBea7Tj6RY2f4VPckVOsRYR/0cgBZLiEpCuVT4hdJG0GZ/hMtXruO3rcZSTZqToi59T3foha/kQ/t9FYksYVLqKB73GOT9BqW8hzCKfkhM4pZQhzjOIasxjkWbQwjhYb1uxNVDKDQatAyir2dlkT1CNuWXPqM63ZMTmL6/YI1azXmfU4z2a5Tnu34YGc4GlE2as7vcIlnTXhxpXFO3RqtybOqR9C3jZwQ5434JY8ax/0eyC4XyzIoQhuCceCbMpx0mdQhFiQwWF8BilltCL7nYvgnssHORxGGXz1+8vbYoej6v/L4X/CQQ4+H9n/j7qnxVHuPiHhfmjGv9PBm2jnUZET98W34E1CWBDDot1TcgHt+naiIiauWkF1QXUBbbaOtGvQ++TQJBKcRZWb1/f1BWH7gxciLj6KaZERd8U90SeyYkysiynbwUv5MV7vA+AllH4AeNrtVclu2zAQvfcrBjoUCaDVTty4lZVDACPN1S6KHmlqZDEVl5KUFf19R2rVuE0T5wNyEjXrezMPZH79IBs4oHVCq1WQxWkAqLguhdqvgi/bdXQVXBfvcomelcyzv0OLvFXiR4uiBFGSaZEt0g/R4mq+vIxmaXaRZuksms9S+s3m6cXsMoCkyA+oSm1BMYmr4FZjU6GF90yaT7C2aDG60wpdAK1tVkHtvfmYJF3Xxb43em+ZqfuYazmWagRH5fDV3V8umXS4q7TykdOV75jFoNjWwsH0C3T2NYKx2qD1PegKCH/V/A8/nN2OtvXdeQzfdAuS9aC0B65NH4KkEVf0LYXzVuxajyHQUErdqUazkvocNR5dQjnPmgaEh9ZoBUz1VEsaSrVjQK2dH7yV1XL0NpozT8sa+1uwYl978Bpampj/l5hrd/fIR//AcYtWuoHgBu2BpgxsbxElKoqomQd8IOAOdug7RAU9EWSqhIlzDJ8rYktVeX2U+isrHMOneTxFUxGZAb9prdEOY1iTQeoBpyKfHEmFYBpklHsQjki/fqnjrDhZGLGd8AJRepoLpzWVJ781WOQlOm6FGcC96eZNN6d0cyyXfFjuOOfiZjrB2c05ZMvlIgSqkD6vmPh5EnnyWDj3lpUomf1efK2FV9jDhtOA1YZsflglgz8hL0o0hK4WtJ9hEzsEi3vaDnnpFVDASeGMvvetFa4UfODn4jx57D7d2nj6CaArPpmenuIn/vdLpg==); font-weight:400; font-style:normal; } @font-face{ font-family: "Whitney SSm B"; src: url(data:application/x-font-woff;base64,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); font-weight:400; font-style:normal; } @font-face{ font-family: "Whitney SSm A"; src: url(data:application/x-font-woff;base64,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); font-weight:600; font-style:normal; } @font-face{ font-family: "Whitney SSm B"; src: url(data:application/x-font-woff;base64,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); font-weight:600; font-style:normal; }
</style>

	

	<title>
	Web applications as services, using APIs
 - Udacity</title>
	
	
		<meta name="description" content="Find free online courses, make a career change, or get a new job by completing a Nanodegree program. Self paced online learning with code reviews.">
	
	
	<meta name="robots" content="noodp">

	
		<meta property="og:type" content="website">
	
	
		<meta property="og:image" content="//s3-us-west-1.amazonaws.com/udacity-content/rebrand/images/udacity_share.png">
		<meta property="og:image:width" content="1200">
		<meta property="og:image:height" content="630">
	
	
	
	

	
		<meta name="twitter:card" content="summary_large_image">
	
	
		<meta name="twitter:site" content="@udacity">
	
	
		<meta name="twitter:creator" content="@udacity">
	
	
	
	


	<meta name="application-name" content="Udacity">
	<meta name="msapplication-TileColor" content="#02b3e4">
	<meta name="msapplication-TileImage" content="//s3-us-west-1.amazonaws.com/udacity-content/rebrand/images/Udacity_MSTile_Icon.png">

	<link rel="icon" sizes="any" mask="" href="./Lesson 5, Web applications as services, using APIs - Udacity_files/logomark.svg">
	<meta name="theme-color" content="#02b3e4">
	<link rel="shortcut icon" href="https://www.udacity.com/favicon.ico?5069c47bacef628a7daa9059b2ecb134">

	<meta name="google-site-verification" content="ELX2btu3VElBKIdvkGj5ESBnJh_Dg9PnWjuCwVkPEkA">

	<meta name="google-site-verification" content="2EIknjtmPaA5nE7j3noLXPah_x_bM2bFEHZRdqSYYMk">

	<meta http-equiv="X-UA-Compatible" content="requiresActiveX=true">

	<meta name="msvalidate.01" content="4ADB80ADF9A5138C8BE3B23EE428B306">
	<link rel="apple-touch-icon" href="https://s3-us-west-1.amazonaws.com/udacity-content/rebrand/images/Udacity_Apple_Icon.png">

	<link type="text/plain" rel="author" href="http://udacity.com/humans.txt">

	
		<link rel="stylesheet" type="text/css" href="./Lesson 5, Web applications as services, using APIs - Udacity_files/udacity.min.css">
<link rel="stylesheet" type="text/css" href="./Lesson 5, Web applications as services, using APIs - Udacity_files/udacity.src.css">

	
	<link href="./Lesson 5, Web applications as services, using APIs - Udacity_files/css" rel="stylesheet" type="text/css">

	<script src="./Lesson 5, Web applications as services, using APIs - Udacity_files/airbrake.min.js" async=""></script><script type="text/javascript" id="www-widgetapi-script" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/www-widgetapi.js" async=""></script><script src="./Lesson 5, Web applications as services, using APIs - Udacity_files/iframe_api"></script><script type="text/javascript" async="" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/linkid.js"></script><script type="text/javascript" async="" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/analytics.js"></script><script type="text/javascript" async="" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/fbevents.js"></script><script type="text/javascript" async="" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/amplitude-2.9.1-min.gz.js"></script><script type="text/javascript" async="" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/analytics.min.js"></script><script type="text/javascript">
		window.account = {"first_name": "Yun", "last_name": "Wang", "tags": [{"tag": "do_not_send_to_satismeter", "namespace": "satismeternps"}, {"tag": "upgraded", "namespace": "classroom-2.0"}, {"tag": "visited", "namespace": "classroom-2.0"}], "_registered": true, "email": {"_verification_code_sent": true, "_verified": true, "address": "wangyun732@gmail.com"}, "currency": "USD", "key": "4716758731", "_image_url": "//robohash.org/udacity-4716758731.png", "nickname": "Yun", "_enrollments": [{"milestones": [], "node_key": "ud741", "group_refs": [], "state": "enrolled", "product_variant": "STANDARD", "first_paid_enrollment_time": null, "email_ok": true, "previous_states": []}, {"milestones": [], "node_key": "cs253", "group_refs": [], "state": "enrolled", "product_variant": "STANDARD", "first_paid_enrollment_time": null, "email_ok": true, "previous_states": []}], "site_preferences": null};
	</script>


		<script type="text/javascript">
		!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
			analytics.load("RzyoT2ixwC6doUVrXnmgC3Gb8m8ert2d");
		}}();

		analytics.ready(function () {
			ga('require', 'linker');
			ga('linker:autoLink', ['udacity.com', 'youdaxuecheng.com']);
		});

		</script>

		<script src="./Lesson 5, Web applications as services, using APIs - Udacity_files/jquery-1.10.2.min.js"></script>
		<script type="text/javascript">
			if (typeof jQuery === 'undefined') {
				document.write(unescape("%3Cscript src='/media/js/standalone/libs/jquery-1.10.2.min.js'%3E%3C/script%3E"));
			}
		</script>

		<script type="text/javascript" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/airbrake-shim.js" data-airbrake-project-id="112558" data-airbrake-project-key="57f51ad7ef08fb878a54caab847a445b" data-airbrake-environment-name="production"></script>
		<script data-airbrake-onload="initAirbrake">
		  function initAirbrake() {
			Airbrake.addFilter(function (notice) {
			  console.log(notice);
			  return true;
			});
		  }
		</script>

	<script>
		window.SATISMETER_TOKEN_TYPE = 'PROD';
		window.SATISMETER_TOKEN = '4lz5FMPfUuskHb69';

		(function() { window.satismeter = window.satismeter || function() {(window.satismeter.q = window.satismeter.q || []).push(arguments);};window.satismeter.l = 1 * new Date();var script = document.createElement("script");var parent = document.getElementsByTagName("script")[0].parentNode;script.async = 1;script.src = "https://app.satismeter.com/satismeter.js";parent.appendChild(script);})();
	</script><script async="" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/satismeter.js"></script>

	<script src="./Lesson 5, Web applications as services, using APIs - Udacity_files/655050218.js"></script><style type="text/css">.nps-fade{opacity:1;-webkit-transition:opacity 500ms;transition:opacity 500ms}.nps-fade-enter,.nps-fade-leave{opacity:0}.nps-slide-enter,.nps-slide-leave{bottom:-600px !important}.nps-next{-webkit-transition:height 500ms;transition:height 500ms}.nps-next>div{-webkit-transition:top 500ms;transition:top 500ms}.nps-next>div>div{-webkit-transition:opacity 500ms;transition:opacity 500ms}.nps-expand{max-height:600px;overflow:hidden;-webkit-transition:max-height 500ms,opacity 500ms;transition:max-height 500ms,opacity 500ms}.nps-expand-enter,.nps-expand-leave{max-height:0px;opacity:0}.nps-Bar{position:fixed;bottom:0;left:0;right:0;text-align:center;background-color:#FDFDFD;box-shadow:rgba(231,231,231,0.4) 0 1px 4px 0;border-top:1px solid #D5DFE2;-webkit-transition:bottom 500ms;transition:bottom 500ms;overflow:hidden;z-index:2147483646;padding:0 20px}.nps-preview .nps-Bar{position:absolute}.nps-Bar .nps-PoweredBy{position:absolute;bottom:10px;right:20px}.nps-preview .nps-Bar .nps-PoweredBy{display:none}@media (max-width: 700px){.nps-Bar .nps-PoweredBy{display:none}}.nps-Bar-close{position:absolute;right:10px;top:10px;font-size:18px;border:0;background-color:transparent;cursor:pointer;color:#555}.nps-Bar-close:focus,.nps-Bar-close:hover{outline:none;color:#333}.nps-Bar .nps-Scale{margin-left:auto;margin-right:auto}.nps-Bar .nps-Survey-bounding{max-width:600px;margin:20px auto}.nps-Bar .nps-Title{font-size:14px}.nps-Survey .nps-Bar{color:#555}.nps-Button{display:inline-block;zoom:1;line-height:normal;white-space:nowrap;vertical-align:baseline;text-align:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit;font-size:100%;padding:0.5em 1em;text-decoration:none;color:#fff;border:0}.nps-Button::-moz-focus-inner{padding:0;border:0}.nps-Button:focus{outline:0}.nps-Button[disabled]{border:none;background-image:none;opacity:0.40;cursor:default;box-shadow:none}.nps-Survey--gray .nps-Button{background-color:#666}.nps-Survey--gray .nps-Button:hover{background-color:#757575}.nps-Survey--darkGreen .nps-Button{background-color:#2FB12C}.nps-Survey--darkGreen .nps-Button:hover{background-color:#43b841}.nps-Survey--pink .nps-Button{background-color:#ff4981}.nps-Survey--pink .nps-Button:hover{background-color:#ff5b8d}.nps-Survey--green .nps-Button{background-color:#4CD964}.nps-Survey--green .nps-Button:hover{background-color:#5ddc73}.nps-Survey--blue .nps-Button{background-color:#007AFF}.nps-Survey--blue .nps-Button:hover{background-color:#1987ff}.nps-Survey--red .nps-Button{background-color:#FF3A2D}.nps-Survey--red .nps-Button:hover{background-color:#ff4d42}.nps-Survey--yellow .nps-Button{background-color:#FFCC00}.nps-Survey--yellow .nps-Button:hover{background-color:#ffd119}.nps-Survey--orange .nps-Button{background-color:#FF9500}.nps-Survey--orange .nps-Button:hover{background-color:#ff9f19}.nps-Survey--violet .nps-Button{background-color:#C643FC}.nps-Survey--violet .nps-Button:hover{background-color:#cb55fc}.nps-Survey--lightBlue .nps-Button{background-color:#3FA2D9}.nps-Survey--lightBlue .nps-Button:hover{background-color:#52abdc}.nps-Dialog{background-color:white;border-width:2px;border-style:solid;margin:auto;padding:20px;position:fixed;width:417px;z-index:2147483646;-webkit-transition:all 500ms;transition:all 500ms;box-sizing:border-box}.nps-preview .nps-Dialog{position:absolute}.nps-Survey--gray .nps-Dialog{border-color:#666;box-shadow:rgba(102,102,102,0.4) 0 1px 4px 0}.nps-Survey--darkGreen .nps-Dialog{border-color:#2FB12C;box-shadow:rgba(47,177,44,0.4) 0 1px 4px 0}.nps-Survey--pink .nps-Dialog{border-color:#ff4981;box-shadow:rgba(255,73,129,0.4) 0 1px 4px 0}.nps-Survey--green .nps-Dialog{border-color:#4CD964;box-shadow:rgba(76,217,100,0.4) 0 1px 4px 0}.nps-Survey--blue .nps-Dialog{border-color:#007AFF;box-shadow:rgba(0,122,255,0.4) 0 1px 4px 0}.nps-Survey--red .nps-Dialog{border-color:#FF3A2D;box-shadow:rgba(255,58,45,0.4) 0 1px 4px 0}.nps-Survey--yellow .nps-Dialog{border-color:#FFCC00;box-shadow:rgba(255,204,0,0.4) 0 1px 4px 0}.nps-Survey--orange .nps-Dialog{border-color:#FF9500;box-shadow:rgba(255,149,0,0.4) 0 1px 4px 0}.nps-Survey--violet .nps-Dialog{border-color:#C643FC;box-shadow:rgba(198,67,252,0.4) 0 1px 4px 0}.nps-Survey--lightBlue .nps-Dialog{border-color:#3FA2D9;box-shadow:rgba(63,162,217,0.4) 0 1px 4px 0}.nps-Dialog--top{top:20px}.nps-Dialog--middle{top:50%;-webkit-transform:translate(0, -50%);transform:translate(0, -50%)}.nps-Dialog--bottom{bottom:20px}.nps-Dialog--left{-webkit-transition:left 500ms;transition:left 500ms;left:20px}.nps-Dialog--left.nps-show-enter,.nps-Dialog--left.nps-show-leave{left:-500px}.nps-Dialog--center{left:0;right:0}.nps-Dialog--center.nps-Dialog--top.nps-show-enter,.nps-Dialog--center.nps-Dialog--top.nps-show-leave{top:-500px}.nps-Dialog--center.nps-Dialog--middle{-webkit-transform:translate(0, -50%) scale(1);transform:translate(0, -50%) scale(1)}.nps-Dialog--center.nps-Dialog--middle.nps-show-enter,.nps-Dialog--center.nps-Dialog--middle.nps-show-leave{-webkit-transform:translate(0, -50%) scale(0);transform:translate(0, -50%) scale(0)}.nps-Dialog--center.nps-Dialog--bottom{bottom:20px}.nps-Dialog--center.nps-Dialog--bottom.nps-show-enter,.nps-Dialog--center.nps-Dialog--bottom.nps-show-leave{bottom:-500px}.nps-Dialog--right{right:20px}.nps-Dialog--right.nps-show-enter,.nps-Dialog--right.nps-show-leave{right:-500px}.nps-Dialog .nps-Title{margin-right:20px}.nps-Dialog-close{float:right;font-weight:bold;padding:0;cursor:pointer;background:transparent;border:0;font-size:16px;width:30px;height:30px;color:white;position:absolute;right:0;top:0}.nps-Dialog-close:focus{outline:0}.nps-Survey--gray .nps-Dialog-close{background-color:#666}.nps-Survey--gray .nps-Dialog-close:hover{background-color:#757575}.nps-Survey--darkGreen .nps-Dialog-close{background-color:#2FB12C}.nps-Survey--darkGreen .nps-Dialog-close:hover{background-color:#43b841}.nps-Survey--pink .nps-Dialog-close{background-color:#ff4981}.nps-Survey--pink .nps-Dialog-close:hover{background-color:#ff5b8d}.nps-Survey--green .nps-Dialog-close{background-color:#4CD964}.nps-Survey--green .nps-Dialog-close:hover{background-color:#5ddc73}.nps-Survey--blue .nps-Dialog-close{background-color:#007AFF}.nps-Survey--blue .nps-Dialog-close:hover{background-color:#1987ff}.nps-Survey--red .nps-Dialog-close{background-color:#FF3A2D}.nps-Survey--red .nps-Dialog-close:hover{background-color:#ff4d42}.nps-Survey--yellow .nps-Dialog-close{background-color:#FFCC00}.nps-Survey--yellow .nps-Dialog-close:hover{background-color:#ffd119}.nps-Survey--orange .nps-Dialog-close{background-color:#FF9500}.nps-Survey--orange .nps-Dialog-close:hover{background-color:#ff9f19}.nps-Survey--violet .nps-Dialog-close{background-color:#C643FC}.nps-Survey--violet .nps-Dialog-close:hover{background-color:#cb55fc}.nps-Survey--lightBlue .nps-Dialog-close{background-color:#3FA2D9}.nps-Survey--lightBlue .nps-Dialog-close:hover{background-color:#52abdc}.nps-Dialog-FeedbackPoweredBy{position:absolute;bottom:0;line-height:30px;left:0}.nps-Feedback{text-align:left}.nps-Feedback-reason{margin-top:10px}.nps-Feedback-reason label{display:block;font-weight:normal}.nps-Feedback-reason input{margin-right:8px;margin-left:4px}.nps-Feedback-text{margin-top:14px;height:80px;border-width:2px;border-style:solid;font-size:14px;padding:7px 10px;width:100%;resize:vertical;max-height:300px;box-sizing:border-box;-webkit-transition:border-color 300ms,background-color 300ms;transition:border-color 300ms,background-color 300ms}.nps-Feedback-text:focus{outline:0}.nps-Survey--gray .nps-Feedback-text{border-color:#e0e0e0}.nps-Survey--gray .nps-Feedback-text:focus{border-color:#848484;background-color:#f8f8f8}.nps-Survey--darkGreen .nps-Feedback-text{border-color:#d5efd4}.nps-Survey--darkGreen .nps-Feedback-text:focus{border-color:#58c056;background-color:#f6fbf6}.nps-Survey--pink .nps-Feedback-text{border-color:#ffdae5}.nps-Survey--pink .nps-Feedback-text:focus{border-color:#ff6d9a;background-color:#fef7f9}.nps-Survey--green .nps-Feedback-text{border-color:#dbf7e0}.nps-Survey--green .nps-Feedback-text:focus{border-color:#6fe083;background-color:#f7fdf8}.nps-Survey--blue .nps-Feedback-text{border-color:#cce4ff}.nps-Survey--blue .nps-Feedback-text:focus{border-color:#3294ff;background-color:#f4f9fe}.nps-Survey--red .nps-Feedback-text{border-color:#ffd7d5}.nps-Survey--red .nps-Feedback-text:focus{border-color:#ff6156;background-color:#fef7f6}.nps-Survey--yellow .nps-Feedback-text{border-color:#fff4cc}.nps-Survey--yellow .nps-Feedback-text:focus{border-color:#ffd632;background-color:#fefcf4}.nps-Survey--orange .nps-Feedback-text{border-color:#ffe9cc}.nps-Survey--orange .nps-Feedback-text:focus{border-color:#ffaa32;background-color:#fefaf4}.nps-Survey--violet .nps-Feedback-text{border-color:#f3d9fe}.nps-Survey--violet .nps-Feedback-text:focus{border-color:#d168fc;background-color:#fcf7fe}.nps-Survey--lightBlue .nps-Feedback-text{border-color:#d8ecf7}.nps-Survey--lightBlue .nps-Feedback-text:focus{border-color:#65b4e0;background-color:#f7fbfd}.nps-Feedback-submit{margin-top:10px;float:right}.nps-Panel{border-width:2px;border-style:solid;background-color:white}.nps-Survey--gray .nps-Panel{border-color:#666;box-shadow:rgba(102,102,102,0.4) 0 1px 4px 0}.nps-Survey--darkGreen .nps-Panel{border-color:#2FB12C;box-shadow:rgba(47,177,44,0.4) 0 1px 4px 0}.nps-Survey--pink .nps-Panel{border-color:#ff4981;box-shadow:rgba(255,73,129,0.4) 0 1px 4px 0}.nps-Survey--green .nps-Panel{border-color:#4CD964;box-shadow:rgba(76,217,100,0.4) 0 1px 4px 0}.nps-Survey--blue .nps-Panel{border-color:#007AFF;box-shadow:rgba(0,122,255,0.4) 0 1px 4px 0}.nps-Survey--red .nps-Panel{border-color:#FF3A2D;box-shadow:rgba(255,58,45,0.4) 0 1px 4px 0}.nps-Survey--yellow .nps-Panel{border-color:#FFCC00;box-shadow:rgba(255,204,0,0.4) 0 1px 4px 0}.nps-Survey--orange .nps-Panel{border-color:#FF9500;box-shadow:rgba(255,149,0,0.4) 0 1px 4px 0}.nps-Survey--violet .nps-Panel{border-color:#C643FC;box-shadow:rgba(198,67,252,0.4) 0 1px 4px 0}.nps-Survey--lightBlue .nps-Panel{border-color:#3FA2D9;box-shadow:rgba(63,162,217,0.4) 0 1px 4px 0}.nps-Panel{font-size:16px;color:#333;max-width:600px;min-width:375px;margin:20px auto;padding:20px}@media (max-width: 480px){.nps-Survey .nps-Panel{border-width:0;min-width:initial;font-size:14px;box-shadow:none}}.nps-Panel .nps-Survey--powered-by{line-height:38px}.nps-Panel .nps-Title{font-size:18px}.nps-Panel .nps-Rating{margin-bottom:20px}.nps-PoweredBy{font-size:12px;margin-top:20px}.nps-PoweredBy>a{text-decoration:none;font-weight:bold}.nps-Survey--gray .nps-PoweredBy>a{color:#666}.nps-Survey--darkGreen .nps-PoweredBy>a{color:#2FB12C}.nps-Survey--pink .nps-PoweredBy>a{color:#ff4981}.nps-Survey--green .nps-PoweredBy>a{color:#4CD964}.nps-Survey--blue .nps-PoweredBy>a{color:#007AFF}.nps-Survey--red .nps-PoweredBy>a{color:#FF3A2D}.nps-Survey--yellow .nps-PoweredBy>a{color:#FFCC00}.nps-Survey--orange .nps-PoweredBy>a{color:#FF9500}.nps-Survey--violet .nps-PoweredBy>a{color:#C643FC}.nps-Survey--lightBlue .nps-PoweredBy>a{color:#3FA2D9}.nps-Scale{margin-top:14px;width:372px}.nps-Scale-value{display:inline-block;cursor:pointer;width:32px;height:32px;border-radius:50%;margin-right:2px;text-align:center;line-height:32px}.nps-Scale-number{color:#333}@media (max-width: 480px){.nps-Scale{width:262px}.nps-Scale-value{width:22px;height:22px}}.nps-Scale-value:last-of-type{margin-right:0}.nps-Survey--gray .nps-Scale-value{background-color:#e0e0e0}.nps-Survey--gray .nps-Scale-value:hover{background-color:#d1d1d1}.nps-Survey--gray .nps-Scale-value.nps-is-selected{background-color:#666}.nps-Survey--gray .nps-Scale-value.nps-is-selected:hover{background-color:#4d4d4d}.nps-Survey--darkGreen .nps-Scale-value{background-color:#d5efd4}.nps-Survey--darkGreen .nps-Scale-value:hover{background-color:#c0e7bf}.nps-Survey--darkGreen .nps-Scale-value.nps-is-selected{background-color:#2FB12C}.nps-Survey--darkGreen .nps-Scale-value.nps-is-selected:hover{background-color:#248822}.nps-Survey--pink .nps-Scale-value{background-color:#ffdae5}.nps-Survey--pink .nps-Scale-value:hover{background-color:#ffc8d9}.nps-Survey--pink .nps-Scale-value.nps-is-selected{background-color:#ff4981}.nps-Survey--pink .nps-Scale-value.nps-is-selected:hover{background-color:#ff165e}.nps-Survey--green .nps-Scale-value{background-color:#dbf7e0}.nps-Survey--green .nps-Scale-value:hover{background-color:#c9f3d0}.nps-Survey--green .nps-Scale-value.nps-is-selected{background-color:#4CD964}.nps-Survey--green .nps-Scale-value.nps-is-selected:hover{background-color:#2ac845}.nps-Survey--blue .nps-Scale-value{background-color:#cce4ff}.nps-Survey--blue .nps-Scale-value:hover{background-color:#b2d7ff}.nps-Survey--blue .nps-Scale-value.nps-is-selected{background-color:#007AFF}.nps-Survey--blue .nps-Scale-value.nps-is-selected:hover{background-color:#0062cc}.nps-Survey--red .nps-Scale-value{background-color:#ffd7d5}.nps-Survey--red .nps-Scale-value:hover{background-color:#ffc3c0}.nps-Survey--red .nps-Scale-value.nps-is-selected{background-color:#FF3A2D}.nps-Survey--red .nps-Scale-value.nps-is-selected:hover{background-color:#f90f00}.nps-Survey--yellow .nps-Scale-value{background-color:#fff4cc}.nps-Survey--yellow .nps-Scale-value:hover{background-color:#ffefb2}.nps-Survey--yellow .nps-Scale-value.nps-is-selected{background-color:#FFCC00}.nps-Survey--yellow .nps-Scale-value.nps-is-selected:hover{background-color:#cca300}.nps-Survey--orange .nps-Scale-value{background-color:#ffe9cc}.nps-Survey--orange .nps-Scale-value:hover{background-color:#ffdfb2}.nps-Survey--orange .nps-Scale-value.nps-is-selected{background-color:#FF9500}.nps-Survey--orange .nps-Scale-value.nps-is-selected:hover{background-color:#cc7700}.nps-Survey--violet .nps-Scale-value{background-color:#f3d9fe}.nps-Survey--violet .nps-Scale-value:hover{background-color:#edc6fe}.nps-Survey--violet .nps-Scale-value.nps-is-selected{background-color:#C643FC}.nps-Survey--violet .nps-Scale-value.nps-is-selected:hover{background-color:#b711fb}.nps-Survey--lightBlue .nps-Scale-value{background-color:#d8ecf7}.nps-Survey--lightBlue .nps-Scale-value:hover{background-color:#c5e3f3}.nps-Survey--lightBlue .nps-Scale-value.nps-is-selected{background-color:#3FA2D9}.nps-Survey--lightBlue .nps-Scale-value.nps-is-selected:hover{background-color:#2688bf}.nps-Scale-ratings{margin-bottom:4px}.nps-Scale-hint{font-size:12px;font-style:italic;color:#999}.nps-Scale-hint--unlikely{float:left}.nps-Scale-hint--likely{float:right}.nps-Survey[dir="rtl"] .nps-Scale-hint--unlikely{float:right}.nps-Survey[dir="rtl"] .nps-Scale-hint--likely{float:left}.nps-Survey{color:#333;font-family:sans-serif;font-weight:normal;font-size:14px;line-height:1.42857143}.nps-Survey-buttons{float:right;margin-top:14px}.nps-Survey-bounding{position:relative;overflow:hidden}.nps-Survey-content{position:relative;top:0}.nps-Title{font-size:16px}.nps-cf:before,.nps-cf:after{content:" ";display:table}.nps-cf:after{clear:both}.nps-left{text-align:left}.nps-center{text-align:center}.nps-margin-t20{margin-top:20px}</style>

	
	
</head>
<body data-ng-controller="siteFrame" data-modal-anti-scroll-helper="" data-ng-class="{&#39;responsive&#39;: responsivenessIsEnabled, &#39;non-responsive&#39;: !responsivenessIsEnabled, &#39;modal-open&#39;: isModalActive()}" class="ng-scope non-responsive" youdao="bind">



	

	<div id="page-content">
		
		<header class="navbar site-nav navbar-inverse navbar-static-top" role="navigation">
			<div class="container">
				<div class="navbar-header">
					
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					
					
							<a itemprop="brand" itemscope="" itemtype="http://schema.org/Brand" class="logo navbar-brand" href="https://www.udacity.com/me#!/" id="header-logo">
								<meta itemprop="logo" content="//s3-us-west-1.amazonaws.com/udacity-content/rebrand/svg/logo.min.svg">
								<img alt="Udacity Logo" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/logo.min.svg">
							</a>

					
				</div>

				<nav class="navbar-collapse collapse text-center-xs" id="navbar-collapse" role="navigation">
					
					
					
						<!-- Logged in dropdowns -->
						<ul data-user-menu="" class="nav navbar-nav navbar-right">
							
							
							<li class="dropdown">
								<a class="dropdown-toggle ng-binding" data-toggle="dropdown" href="">Yun Wang<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="https://www.udacity.com/account">Account</a></li>
									<li data-ng-show="isProfilesEnabled" class="ng-hide"><a href="http://profiles.udacity.com/u/edit">Profile</a></li>
									<li class="divider hidden-xs"></li>
									<li><a href="" data-ng-click="logOut()">Sign Out</a></li>
								</ul>
							</li>
						</ul>
						<!-- END Logged in dropdowns -->
					

					
							<ul class="nav navbar-nav navbar-right">
									<li>
										<a id="catalog" class="dropdown-toggle" href="https://www.udacity.com/courses/all">Catalog</a>
									</li>
							</ul>
					

					
					

					

							<ul class="nav navbar-nav navbar-right">
								<li>
									<a href="https://www.udacity.com/nanodegree">Nanodegree</a>
								</li>
							</ul>

					

				</nav>
			</div>
		</header>
		






<link rel="stylesheet" type="text/css" href="./Lesson 5, Web applications as services, using APIs - Udacity_files/style.css">

<div id="wiki-content-container" class="container left-hand-nav-container">
	<div class="row">
		<div class="col-xs-12" id="wiki-left-hand-nav-title-wrapper">
		<h1 class="h-slim left-hand-nav-title">Web Development</h1></div>
	</div>
	<div class="row" id="wiki-content-wrapper"><div class="col-xs-1 text-center left-hand-nav ng-isolate-scope current-nav-location-materials" data-ng-class="&#39;current-nav-location-&#39; + location" left-hand-nav="" location="materials" course-key="&#39;cs253&#39;">
		<div data-ng-hide="courseKey == &#39;none&#39;" class="">
			<div class="row row-gap-small" data-ng-show="semanticType==&#39;Course&#39;">
				<div class="col-xs-12 nav-location-btn nav-location-dashboard">
					<a data-ng-href="/course/progress#!/c-cs253" class="text-swap-animation" amp-log-event="ClassroomLeftNavDashboard" href="https://www.udacity.com/course/progress#!/c-cs253">
						<span class="sprite-dashboard"></span><br>
						Dashboard
					</a>
				</div>
			</div>
			<div class="row row-gap-small ng-hide" data-ng-show="!semanticType || semanticType==&#39;unknown&#39; || semanticType ==&#39;Degree&#39;">
				<div class="col-xs-12 nav-location-btn nav-location-dashboard">
					<span class="text-swap-animation">
						<span class="sprite-dashboard sprite-dashboard-disabled"></span><br>
						<span class="text-disabled">Dashboard</span>
					</span>
				</div>
			</div>
			<div class="row row-gap-small">
				<div class="col-xs-12 nav-location-btn nav-location-viewer">
					<a data-ng-href="/course/viewer#!/c-cs253" amp-log-event="ClassroomLeftNavViewer" href="https://www.udacity.com/course/viewer#!/c-cs253">
						<span class="sprite-viewer"></span>
						<br>
						Classroom
					</a>
				</div>
			</div>
			<div class="row row-gap-small">
				<div class="col-xs-12 nav-location-btn nav-location-materials">
					<a data-ng-href="/wiki/cs253" amp-log-event="ClassroomLeftNavMaterials" href="https://www.udacity.com/wiki/cs253">
						<span class="sprite-materials"></span><br>
						Materials
					</a>
				</div>
			</div>
			<div class="row row-gap-small" data-ng-hide="limitedAccess">
				<div class="col-xs-12 nav-location-btn nav-location-discussion">
						<a data-ng-href="http://discussions.udacity.com/c/standalone-courses/web-development" target="_blank" data-ng-show="showDiscussion" class="text-swap-animation" amp-log-event="ClassroomLeftNavDiscussions" href="http://discussions.udacity.com/c/standalone-courses/web-development">
							<span class="sprite-discussion"></span><br>
							Discussion
						</a>
						<span data-ng-hide="showDiscussion" class="text-swap-animation ng-hide">
							<span class="sprite-discussion sprite-discussion-disabled"></span><br>
							<span class="text-muted">Discussion</span>
						</span>
				</div>
			</div>
			<div class="row row-gap-small" data-ng-hide="limitedAccess || semanticType!=&#39;Course&#39;">
				<div class="col-xs-12 nav-location-btn nav-location-overview">
					<a data-ng-href="/course/cs253" amp-log-event="ClassroomLeftNavOverview" href="https://www.udacity.com/course/cs253">
						<span class="sprite-overview"></span><br>
						Overview
					</a>
				</div>
			</div>
		</div>
	</div>
		<div class="col-xs-11">
			

<ul id="wikitabs" class="locked">
  <li class="active"><a class="view" href="https://www.udacity.com/wiki/cs253/unit-5alt">View</a></li>
    <li><a href="https://www.udacity.com/wiki/w/edit?page=cs253/unit-5alt">Edit</a></li>
  <li><a href="https://www.udacity.com/wiki/w/history?page=cs253/unit-5alt">History</a></li>
</ul>
<div class="wtabs extl" id="pb">
      <div class="pretty-format"><p><a class="int" href="https://www.udacity.com/wiki/cs253" title="cs253">cs253</a> » </p>
</div>
      <div class="pretty-format"><h1 id="cs253-lesson-5">CS253 Lesson 5</h1>

<h1 id="web-applications-as-services-using-apis">Web applications as services, using APIs</h1>

<p>Contents</p>

<ul>
<li>Introduction HTTP Clients urllib Quiz: Using urllib Redirection XML Quiz: XML and HTML Parsing XML RSS Quiz: Parsing RSS JSON Quiz: Parsing JSON APIs JSON Escaping Quiz: Escaping JSON in Python Being a Good Citizen SOAP Quiz: Good Habits ASCII Chan 2 Geolocation Quiz: Geolocation Debugging Updating the Database Querying Coordinate Information Quiz: Creating the Image URL Putting It All Together Answers</li>
</ul>

<hr>

<hr>

<h2 id="introduction">Introduction</h2>

<p>Welcome to Lesson 5. This lesson will talk about how to make your web application talk to other computers.</p>

<ul>
<li>Up until now, your programs have basically generated HTML that a browser will use to render a web page for the user. But your web application can also generate things like <a href="http://en.wikipedia.org/wiki/XML">XML</a> and <a href="http://en.wikipedia.org/wiki/Json">JSON</a> that other computers can interpret so that they, in turn, can build websites or services that interact with your data. We will look at both XML and JSON and we'll see how to read them, how to interpret them and how to manipulate them. Then we will add a new feature to our ASCII Chan applications, that is built on Google Maps, which lets us see where our users are posting from. Finally, your homework for this lesson will be to make your blog output itself in JSON.</li>
</ul>

<h3 id="http-clients">HTTP Clients</h3>

<p>Until now, we've been working with this kind of standard picture of this little guy and his browser. Now, this used to be you, but now this is the user. You have upgraded to the other side of the picture where the servers are. So let's get these boxes. We've seen these 100 times. Okay, and let's add you over here. You are now the programmer. Congratulations, you are a web developer. We can talk about users and how much trouble they cause us.</p>

<ul>
<li>In the 'normal' web requests we have seen up until now, the user makes a request to the servers, and the server responds with the response. So far so good. What we are going to talk about today is when your servers start making requests to other servers. Let's say that we have created a web application that does some data analysis on Twitter. Twitter has their own web servers, so we can have a web page that actually makes requests to Twitter. Our computers are now talking to their computers. This actually happens all the time. They're still communicating over HTTP, and Twitter will still respond as normal. So, the user might make a request to us. We might then make a request to the Twitter servers, which respond with their normal response. Then we manipulate that data and return it to the user. Hipmunk does a lot of this type of communication. Let's take a little look at how Hipmunk works.</li>
</ul>

<p>When a user does a flight search on Hipmunk, they send requests to a bunch of data providers who have the actual flight data. Hipmunk takes the user's flight search and sends it to ITA, sends it to one or more airlines, and in some cases they'll even send it to Amtrak, if that's appropriate. Each of these organisations are companies who have their own services that Hipmunk works with. ITA will run the flight search, and send the results back. The Airline will also run the flight search on their own system and send their results back. Similarly, Amtrak does its thing and send their data back to Hipmunk. So, now Hipmunk has all this flight search data on their server. They then manipulate that data, collate it, make you nice results, and then we'll send back their HTML response to the user (or 'customer' in this case - since they're paying!).</p>

<ul>
<li>So, this lesson is about how to make our servers speak to other servers when there's no browser involved. We'll still use HTTP, but we are now communicating over other protocols. We saw some of this in Lesson 1, but we'll be doing a lot more in this lesson, because there's so much you can do when you realize that you're not the only service on the internet.</li>
</ul>

<h2 id="urllib">urllib</h2>

<p>First, let's introduce a Python library for actually making an HTTP requests so we can see how that works</p>

<ul>
<li><p>Python has a library called <a href="http://docs.python.org/library/urllib2.html">urllib2</a>. There's also a library called just <a href="http://docs.python.org/library/urllib.html">urllib</a> (referred to as "urlib1"), which does have a few handy functions of its own. However, we're going to use urllib2 for the most part. urllib2 includes a function called urlopen. Let's say we want to download Google's homepage and store it in a variable p, for page. We can do this by entering the following code into the Python interpreter:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>import urllib2</p>
      
      <p>p = urllib2.urlopen("http://www.google.com")</p>
      
      <p>c = p.read()</p>
    </blockquote>
  </blockquote>
</blockquote></li>
</ul>

<p>p is a <a href="http://docs.python.org/tutorial/inputoutput.html#reading-and-writing-files">Python file object</a>, which is basically an object with a read method. We called a read on p to get the contents of the page which we stored in c.</p>

<ul>
<li>If we were to simply print c we would see a screen of text which is the code used to generate Google's front page. This is what we would expect. In fact, we have done the same thing before using telnet or curl. Now we can also do it using Python. Now we have this variable c which contains the whole response, we can manipulate it in our programs. We are going to be doing a lot of this.</li>
</ul>

<p>Let's take a look at what is held in the page, p. We can use the built-in dir() function to examine a Python object, thus:</p>

<pre><code class="prettyprint"><span class="pun">&gt;&gt;&gt;</span><span class="pln"> dir</span><span class="pun">(</span><span class="pln">p</span><span class="pun">)</span><span class="pln">
</span><span class="pun">[</span><span class="str">'__doc__'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'__init__'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'__iter__'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'__module__'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'__repr__'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'close'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'code'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'fileno'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'fp'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'getcode'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'geturl'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'headers'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'info'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'msg'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'next'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'read'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'readline'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'readlines'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'url'</span><span class="pun">]</span><span class="pln">
</span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>These are the methods and attributes of our p object. We can immediately see that a couple of them that are probably going to be of interest to us. "headers" is one, and "geturl" is another. "getcode" is probably the status code.</p>

<ul>
<li><p>This is often a good way to get to understand a library that you don't know that well. Use dir() to examine the object. Let's look at a couple of these. If we look at "url" we see:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>p.url
      'http://www.google.co.uk/'</p>
    </blockquote>
  </blockquote>
</blockquote></li>
</ul>

<p>Which is the url that we requested. Looking a the "headers" gives us:</p>

<pre><code class="prettyprint"><span class="pun">&gt;&gt;&gt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">headers</span></code></pre>

<p>This is an HTTP message instance.</p>

<p>Now, I happen to know that this is a dictionary, and dictionaries have a function on them called items() which you can call on any dictionary to view the keys and values:</p>

<pre><code class="prettyprint"><span class="pun">&gt;&gt;&gt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">.</span><span class="pln">items</span><span class="pun">()</span><span class="pln">
</span><span class="pun">[(</span><span class="str">'x-xss-protection'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'1; mode=block'</span><span class="pun">),</span><span class="pln">
</span><span class="pun">(</span><span class="str">'set-cookie'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'PREF=ID=20cb9ed43db0ec93:FF=0:TM=1337091686:LM=1337091686:S=Y6hHS34KbQHiPMGZ; expires=Thu, 15-May-2014 14:21:26 GMT; path=/; domain=.google.co.uk, NID=59=auTR3huH1WH0z9pfwue9E4Qk6MLwpphvjECKqMMdOtP-RXmfz7C_UcLfndBJr72aMtJkDnqq5uOR5TdqWZhfWosIIWUXkBTCUKy0_uFggkNdiAr0HCKg_VAha--ez6kX; expires=Wed, 14-Nov-2012 14:21:26 GMT; path=/; domain=.google.co.uk; HttpOnly'</span><span class="pun">),</span><span class="pln">
</span><span class="pun">(</span><span class="str">'expires'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-1'</span><span class="pun">),</span><span class="pln">
</span><span class="pun">(</span><span class="str">'server'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'gws'</span><span class="pun">),</span><span class="pln">
</span><span class="pun">(</span><span class="str">'connection'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'close'</span><span class="pun">),</span><span class="pln">
</span><span class="pun">(</span><span class="str">'cache-control'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'private, max-age=0'</span><span class="pun">),</span><span class="pln">
</span><span class="pun">(</span><span class="str">'date'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Tue, 15 May 2012 14:21:26 GMT'</span><span class="pun">),</span><span class="pln">
</span><span class="pun">(</span><span class="str">'p3p'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'CP="This is not a P3P policy! See http://www.google.com/support/accounts/bin/answer.py?hl=en&amp;answer=151657 for more info."'</span><span class="pun">),</span><span class="pln">
</span><span class="pun">(</span><span class="str">'content-type'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'text/html; charset=ISO-8859-1'</span><span class="pun">),</span><span class="pln">
</span><span class="pun">(</span><span class="str">'x-frame-options'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'SAMEORIGIN'</span><span class="pun">)]</span><span class="pln">
</span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>These are all of the headers we got back from Google. Since this is an actual dictionary, so if we want to know the content type, we enter:</p>

<pre><code class="prettyprint"><span class="pun">&gt;&gt;&gt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">headers</span><span class="pun">[</span><span class="str">'content-type'</span><span class="pun">]</span><span class="pln">
</span><span class="str">'text/html; charset=ISO-8859-1'</span><span class="pln">
</span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>and we can see we're getting an ISO charset.</p>

<ul>
<li>So, in future, especially for Windows users who may have had trouble using telnet, you can just use urllib and get the same answer. Let's try out what we just learned in a quiz.</li>
</ul>

<h3 id="quiz-using-urllib">Quiz: Using urllib</h3>

<p>What server does www.example.com use?</p>

<ul>
<li>Use Python and urllib2 and read the server header.</li>
</ul>

<hr>

<hr>

<h3 id="redirection">Redirection</h3>

<p>I saved the page for www.example.com in a variable called p2. If we look at the url attribute on p2 we see:</p>

<pre><code class="prettyprint"><span class="pun">&gt;&gt;&gt;</span><span class="pln"> p2</span><span class="pun">.</span><span class="pln">url
</span><span class="str">'http://www.iana.org/domains/example/'</span><span class="pln">
</span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>The url is actually iana.org. This is because example.com redirects to iana.org (as we saw back in Lesson 1). Now, urllib2 automatically follows redirects, and this can sometimes be confusing. In this case, it automatically followed the redirect to iana.org, whose server is Apache.</p>

<ul>
<li><p>But if you do this by hand, as we did in lesson 1, you find that the server is actually Big IP.</p>

<p>It is important for you to be aware when you use these libraries, that a lot of them, including urllib2 and the default one included in Google App Engine (called <a href="https://developers.google.com/appengine/docs/python/urlfetch/">URL Fetch</a>), follow redirects automatically. If you don't want to follow the redirects, there is almost always an option to tell the library not to automatically follow redirects.</p></li>
</ul>

<h2 id="xml">XML</h2>

<p>Let's talk a little bit about what is actually sent over the wire between two computers.</p>

<ul>
<li><p>We could have our servers make requests to other systems and receive the response as HTML. In fact, this is just what many servers do, but this is actually less than ideal. We have seen HTML already, and by now you will know that it can be somewhat complex and not very regular. Fortunately, most browsers are very forgiving. Consider this HTML:</p>

<p>&lt;form&gt;
    <b>
        Hello!
  &lt;/form&gt;</b></p></li><b>
</b></ul><b>

</b><p><b>The closing </b> is missing. However, many browsers will still render this correctly.</p>

<ul>
<li>A computer attempting to parse this code, will expect an opening <b> tag to have a closing </b> tag. If the closing tag is missing, the computer could get lost in this loop. You may be able to recover from this, like a browser does, depending on how complicated you want to make your parser. Then again, you may not.</li>
</ul>

<p>So HTML is not really an ideal language for computer-to-computer communication.</p>

<ul>
<li>Some servers do use HTML. When Hipmunk sends a request to Amtrak they actually get HTML from Amtrak. They then have a fairly involved process to parse this. We used some regular expressions to validate usernames and emails in Homework 2. Hipmunk use similar regular expressions when they parse HTML from Amtrak:</li>
</ul>

<hr>

<p>AVAILABILITY_DIV_RE = re.compile(r'&lt;div class="availability" .\*?&lt;="" form=""&gt;s\*&lt;/div&gt;', re.S) SELECT_AND_PRICE_RE = re.compile(r'<span class="select_and_price">.*?</span>', re.s) PRICE_RE = re.compile(r'$([0-9.]*)') SERVICE_SPAN_RE = re.compile(r'<span id="\_service\_span">') TIME_POINT_RE = re.compile(r'<span class="time_point">.*?</span>') DEPARTS_RE = re.compile(r'Departs: ([0-9]+:[0-9]+ [A|P]M)') ARRIVES_RE = re.compile(r'Arrives: ([0-9]+:[0-9]+ [A|P]M)') DEP_DATA_RE = re.compile(r'&lt;div class="dep_data"&gt;.*?&lt;/div&gt;', re.S) ARR_DATA_RE = re.compile(r'&lt;div class="arr_data"&gt;.*?&lt;/div&gt;', re.S) DEP_ARR_DATE_RE = re.compile(r'[A|P]M\s*(.*?[0-9]{4})') AVS_GRID_RE = re.compile(r'&lt;div class="avs_grid"&gt;.*?"&gt; &lt;/div&gt;\s*&lt;/div&gt;' re.S) CABIN_RE = re.compile(r'&lt;div class="single_option.\*?(\\w+ \\w+ Seat.\*?)&amp;lt;/div&amp;gt;', re.S) NUMBER_RE = re.compile(r'([0-9]+') STATION_CODE_RE = re.compile(r'(([A-Z]{3})\)', re.S)&amp;lt;/p&amp;gt;

&amp;lt;hr&amp;gt;

&amp;lt;p&amp;gt;At first glace, this appears to be just a wall of text. As you can imagine, this is extremely error-prone, and is not the ideal way of doing things..&amp;lt;/p&amp;gt;

&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;p&amp;gt;In an ideal world, we would use an API (&amp;lt;a rel=" nofollow"="" href="http://en.wikipedia.org/wiki/Api"&gt;application programming interface<strong>)</strong> that uses a language more appropriate for the task. Such a language might be <a href="http://en.wikipedia.org/wiki/XML">XML</a>. XML was actually invented in the late '90s specifically to enable a regular way of expressing data between computer systems. This is what some XML might look like:</span></p>

<p><!--?xml version="1.0" encoding="UTF-8"?-->
&lt;results&gt;
  &lt;itinerary&gt;
    &lt;leg&gt;
      &lt;origin&gt;CUS&lt;/origin&gt;
      &lt;dest&gt;WAS&lt;/dest&gt;
    &lt;/leg&gt;
  &lt;/itinerary&gt;
&lt;/results&gt;</p>


<p>If you think this looks an awful lot like HTML, you are correct!</p>

<p>The first line is basically the document type. We have the same thing in HTML. We've been using HTML5, so our HTML doctype also looks something like this. It's just the first line that says what format the rest of the document is.</p>

<ul>
<li>Now, the reason both HTML and XML look so similar is that they share a common ancestor in <a href="http://en.wikipedia.org/wiki/Sgml">SGML</a> (Standard Generalised Markup Language), which was invented in the 1980s. The main difference between XML and HTML is that in XML every tag has to have a closing tag. The tag format is the same with opening tags, &lt;results&gt;, and closing tags, &lt;/results&gt;, but <strong>there are no void tags in XML</strong>. In HTML we have the <br> tag to put in a line break. This doesn't need a closing tag because HTML doesn't require all tags to close. We have the notion of a void tag, and the line break is an example of one of those. XML has nothing like that . Now, if you want a tag that has no content in XML, you could include a closing slash before the greater-than symbol, something like this: <br> In fact, there is a doctype for HMTL called "XHTML":</li>
</ul>

<p></p>

<p>This basically says that the HTML document is actually also going to be valid XML. In this case, instead of void tags with no closing slash, the closing slash is included before the greater-than.</p>

<ul>
<li>In essence, XML is very similar to HTML, but it is more rigorous.</li>
</ul>

<h3 id="quiz-xml-and-html">Quiz: XML and HTML</h3>

<p>Which of these are true statements?</p>

<ul>
<li>All HTML is XML?</li>
<li>All XML is HTML?</li>
<li>HTML can be expressed in XML?</li>
<li>XML and HTML share a common lineage.</li>
</ul>

<p>Select all that are correct.</p>

<hr>

<hr>

<h3 id="parsing-xml">Parsing XML</h3>

<p>So, how do we parse XML?</p>

<ul>
<li><p>Python includes a built-in parser. Python has a library called "minidom". You can use it by running something like: from xml.dom import minidom</p>

<p>The term "DOM" is something you'll see quite often when you work with XML. This stands for "<a href="http://en.wikipedia.org/wiki/Document_object_model">Document Object Model</a>", and essentially refers to the internal computer representation of an XML document. In Python, the XML document is an object that has a list of children. Each of these children is some sort of tag object, and these tag objects may have attributes like name, contents and so on. Actually parsing XML is really complicated. XML can be many, many gigabytes in size. Parsing all of that text is definitely nontrivial! However, if you're only parsing a small amount of text, you can use the minidom library, which is a smaller, 'lightweight' version of the DOM parser that is simple and fast but which will break if you throw really large amounts text at it. For our purposes in this lesson, minidom will work just fine. Let's take a look at minidom in action. Now, minidom has a function called parseString(), which will parse a string of XML. We can enter the code into the Python interpreter as shown below:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from xml.dom import minidom</p>
      
      <p>minidom.parseString
        &lt;function parsestring="" at="" 0x02853db0=""&gt;
       x = minidom.parseString("&lt;mytag&gt;contents!&lt;chilrdren&gt;&lt;item&gt;1&lt;/item&gt;&lt;item&gt;2&lt;/item&gt;&lt;/children&gt;
        &lt;/mytag&gt;")</p>
    </blockquote>
  </blockquote>
</blockquote></li>
</ul>

<p>Looking at the XML string, we have an opening tag, &lt;mytag&gt;, followed by some text, and then an opening &lt;children&gt; tag and some items within &lt;item&gt;&lt;/item&gt; tags, and then the closing &lt;/children&gt; and &lt;/mytag&gt; tags.</p>

<ul>
<li><p>There are a couple of things to note here. Firstly, these are just made up tag names. In HTML, there are specific tags that you have to use. With XML you can use whatever tags you want to use, as long as the people writing and reading the XML agree on the meaning of the names.</p>

<p>Secondly, we have included a deliberate typo in the opening &lt;chilrdren&gt; tag. If we run the code as shown, we get an error:</p></li>
</ul>

<p><a href="https://www.udacity.com/wiki/ExpatError">ExpatError</a>: mismatched tag: line 1, column 57</p>

<p>A mismatched tag. Well, that does make sense!</p>

<p>If we run the code without the typo we will get a minidom document instance:</p>

<pre><code class="prettyprint"><span class="pun">&gt;&gt;&gt;</span><span class="pln"> x
</span><span class="pun">&lt;</span><span class="pln">xml</span><span class="pun">.</span><span class="pln">dom</span><span class="pun">.</span><span class="pln">minidom</span><span class="pun">.</span><span class="typ">Document</span><span class="pln"> instance at </span><span class="lit">0x027B3A08</span><span class="pun">&gt;</span><span class="pln">
</span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>We can use the dir() function to see what is in x:</p>

<pre><code class="prettyprint"><span class="pun">&gt;&gt;&gt;</span><span class="pln"> dir</span><span class="pun">(</span><span class="pln">x</span><span class="pun">)</span><span class="pln">
</span><span class="pun">[</span><span class="str">'ATTRIBUTE_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'CDATA_SECTION_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'COMMENT_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'DOCUMENT_FRAGMENT_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'DOCUMENT_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'DOCUMENT_TYPE_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'ELEMENT_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'ENTITY_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'ENTITY_REFERENCE_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'NOTATION_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'PROCESSING_INSTRUCTION_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'TEXT_NODE'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'__doc__'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'__init__'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'__module__'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'__nonzero__'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_call_user_data_handler'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_child_node_types'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_create_entity'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_create_notation'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_elem_info'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_actualEncoding'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_async'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_childNodes'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_doctype'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_documentElement'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_documentURI'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_elem_info'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_encoding'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_errorHandler'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_firstChild'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_lastChild'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_localName'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_standalone'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_strictErrorChecking'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_get_version'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_id_cache'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_id_search_stack'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_magic_id_count'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'_set_async'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'abort'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'actualEncoding'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'appendChild'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'async'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'attributes'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'childNodes'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'cloneNode'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'createAttribute'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'createAttributeNS'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'createCDATASection'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'createComment'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'createDocumentFragment'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'createElement'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'createElementNS'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'createProcessingInstruction'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'createTextNode'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'doctype'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'documentElement'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'documentURI'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'encoding'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'errorHandler'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'firstChild'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'getElementById'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'getElementsByTagName'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'getElementsByTagNameNS'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'getInterface'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'getUserData'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'hasChildNodes'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'implementation'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'importNode'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'insertBefore'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'isSameNode'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'isSupported'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'lastChild'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'load'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'loadXML'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'localName'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'namespaceURI'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'nextSibling'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'nodeName'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'nodeType'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'nodeValue'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'normalize'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'ownerDocument'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'parentNode'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'prefix'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'previousSibling'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'removeChild'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'renameNode'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'replaceChild'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'saveXML'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'setUserData'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'standalone'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'strictErrorChecking'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'toprettyxml'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'toxml'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'unlink'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'version'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'writexml'</span><span class="pun">]</span><span class="pln">
</span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>There is a lot of interesting stuff here .</p>

<p>There are functions for manipulating the document, like appendChild() and createTextNode(). There are lookup functions like getElementById(), and getElementByTagName(). We will be using these a lot more later.</p>

<p>An intersting function is Toprettyxml(). If we take our document object, x, and call "toprettyxml" on it we get:</p>

<pre><code class="prettyprint"><span class="pun">&gt;&gt;&gt;</span><span class="pln"> x</span><span class="pun">.</span><span class="pln">toprettyxml</span><span class="pun">()</span><span class="pln">
u</span><span class="str">'&lt;?xml version="1.0" ?&gt;\n&lt;mytag&gt;\n\tcontents!\n\t&lt;children&gt;\n\t\t&lt;item&gt;\n\t\t\t1\n\t\t&lt;/item&gt;\n\t\t&lt;item&gt;\n\t\t\t2\n\t\t&lt;/item&gt;\n\t&lt;/children&gt;\n&lt;/mytag&gt;\n'</span><span class="pln">
</span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>This really doesn't look very pretty at all, but this is actually the Python string with the new lines in it, and if we print it we get:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> </span><span class="kwd">print</span><span class="pln"> x</span><span class="pun">.</span><span class="pln">toprettyxml</span><span class="pun">()</span><span class="pln">
  </span><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> </span><span class="pun">?&gt;</span><span class="pln">
    </span><span class="str">&lt;mytag&gt;</span><span class="pln">
      contents</span><span class="pun">!</span><span class="pln">
      </span><span class="str">&lt;children&gt;</span><span class="pln">
        </span><span class="str">&lt;item&gt;</span><span class="pln">
          </span><span class="lit">1</span><span class="pln">
        </span><span class="pun">&lt;</span><span class="str">/item&gt;
        &lt;item&gt;
          2
        &lt;/</span><span class="pln">item</span><span class="pun">&gt;</span><span class="pln">
      </span><span class="pun">&lt;</span><span class="str">/children&gt;
    &lt;/</span><span class="pln">mytag</span><span class="pun">&gt;</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>Which is much more readable. Here is the xml that we entered, and we can see the structure of the document nicely indented for us. This is really a handy little function. When you download XML from somewhere it can be much easier to see the structure of it if you use prettyxml().</p>

<p>Another function I'd like to show you here is getElementByTagName(). If we run this on our document object, x, and give it "mytag" it will return one DOM element:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln">  x</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"mytag"</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">[&lt;</span><span class="pln">DOM </span><span class="typ">Element</span><span class="pun">:</span><span class="pln"> mytag at  </span><span class="lit">0x27b3b98</span><span class="pun">&gt;]</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>If we run it for "item", we actually get two DOM elements:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> x</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"item"</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">[&lt;</span><span class="pln">DOM </span><span class="typ">Element</span><span class="pun">:</span><span class="pln"> item at  </span><span class="lit">0x269a558</span><span class="pun">&gt;,</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">DOM </span><span class="typ">Element</span><span class="pun">:</span><span class="pln"> item at </span><span class="lit">0x269a4e0</span><span class="pun">&gt;]</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>If we look at the children of the first item, we can access the node value attribute and see that it is 1:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln">  x</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"item"</span><span class="pun">)[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">childNodes
  </span><span class="pun">[&lt;</span><span class="pln">DOM </span><span class="typ">Text</span><span class="pln"> node  </span><span class="str">"u'1'"</span><span class="pun">&gt;]</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>In effect, what we have just done was to say "get me all of the elements that are called item". We got two results. On the first of these we said "get me its first child", which has the value "1". Now, this isn't strictly a node, but in minidom, it is represented as a text node.</p>

<p>Different libraries may handle contents differently, but in minidom this is how we get it. We can actually get the value of that text node:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln">  x</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"item"</span><span class="pun">)[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">childNodes </span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">nodeValue
  u</span><span class="str">'1'</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>The value is the number 1. The "u" means a unicode string since minidom assumes that we entered a unicode string.</p>

<h2 id="rss">RSS</h2>

<p>You've probably at least heard of <a href="http://en.wikipedia.org/wiki/RSS">RSS</a>. It's a way to read a website that has daily content like a blog or a news site. You may even have a specialised reader for reading the content.</p>

<p>RSS originally stood for "<strong>RDF Site Summary</strong>". <a href="http://en.wikipedia.org/wiki/Resource_Description_Framework">RDF</a> stands for "<strong>Resource Description Framework</strong>". RDF is an XML format which can be used to describe just about anything. It's basically a way to represent knowledge in XML.</p>

<p>More commonly these days, RSS is dubbed "<strong>Really Simple Syndication</strong>". This is more the context in which we're going to be using it. RDF was originally conceived as a tool to organize the world's information problems, and RSS uses RDF, but in essence, it's just a list of content in XML.</p>

<p>Let's look at some examples of RSS in the wild.</p>

<p>The New York Times homepage has a link for RSS at the bottom of this page. This will take us to a page of links for various NYT news sites. If we then click on the link for <strong>NYTimes.com Home Page (Global Edition)</strong> we see that the URL includes <a href="https://www.udacity.com/wiki/GlobalHome">GlobalHome</a>.xml:</p>

<p><a href="http://www.nytimes.com/services/xml/rss/nyt/GlobalHome.xml">http://www.nytimes.com/services/xml/rss/nyt/GlobalHome.xml</a></p>

<p>We have received an XML document.</p>

<p>Most browsers do display XML in a nice way. Although this particular document is an XML document, it is actually an RSS feed. What this means is that there is a particular 'namespace' (something like a tag-space) for the items in the list that make up the feed.</p>

<p>Just like an HTML document opens with an HTML tag and has a header and a body with specific tags, an RSS document also has very specific tags. In XML, you can use the header area to describe the namespace that you are going to use. This is the header from <a href="https://www.udacity.com/wiki/GlobalHome">GlobalHome</a>.xml:</p>

<pre><code class="prettyprint"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pun">?&gt;</span><span class="pln">
</span><span class="tag">&lt;rss</span><span class="pln"> </span><span class="atn">xmlns:dc</span><span class="pun">=</span><span class="atv">"http://purl.org/dc/elements/1.1/"</span><span class="pln"> </span><span class="atn">xmlns:media</span><span class="pun">=</span><span class="atv">"http://search.yahoo.com/mrss/"</span><span class="pln"> </span><span class="atn">xmlns:atom</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2005/Atom"</span><span class="pln"> </span><span class="atn">xmlns:nyt</span><span class="pun">=</span><span class="atv">"http://www.nytimes.com/namespaces/rss/2.0"</span><span class="pln"> </span><span class="atn">version</span><span class="pun">=</span><span class="atv">"2.0"</span><span class="tag">&gt;</span></code></pre>

<p>The page is using the atom name space and the RSS 2.0 name space. This tells the parser that descriptions of the tags can be downloaded from these URLs, and so what tags to expect.</p>

<p>If you look at the XML file for this page, you'll see that there is some initial header information followed by a list of items which are the stories in the feed. Each item has a title and a link, a brief description and so forth. Exactly the things that are needed by an RSS reader or similar program to download the contents of The New York Times without having to parse all the HTML.</p>

<h3 id="quiz-parsing-rss">Quiz: Parsing RSS</h3>

<p>How many &lt;item&gt; elements are in the page listing at the New York Times Global Edition RRS feed:</p>

<p><a href="http://www.nytimes.com/services/xml/rss/nyt/GlobalHome.xml">http://www.nytimes.com/services/xml/rss/nyt/GlobalHome.xml</a></p>

<p>Use urllib and minidom in Python to download this page. Remember the function getElementsByTagName( ) will be particularly useful to you on the minidom object.</p>

<h2 id="json">JSON</h2>

<p>The next thing we need to introduce is <a href="http://en.wikipedia.org/wiki/JSON">JSON</a>. JSON is another computer and human readable way to exchange data in a consistent format. JSON stands for "<a href="https://www.udacity.com/wiki/JavaScript">JavaScript</a> Object Notation", and JSON is, in fact, valid <a href="https://www.udacity.com/wiki/JavaScript">JavaScript</a> code.</p>

<ul>
<li><p>Sticking with our earlier travel search example, JSON may look something like this:</p>

<p>{"itineraries":  [{"from":"SCO",
  "to": "IAD"},
  {"from": "IAD",
  "to": "SEA"}]
  }</p></li>
</ul>

<p>This dictionary structure actually looks a lot like Python code. This is because Python and <a href="https://www.udacity.com/wiki/JavaScript">JavaScript</a> have very similar syntax for dictionaries and lists.</p>

<p>This dictionary might have a key called "itineraries" whose value is a list of other dictionaries. Here we have a dictionary for each routing or leg of the journey, denoted by the curly-braces, which has a key for "from" and a key for "to", each of which has a value.</p>

<p>JSON is really useful if you want to express object of these types. Anything you can express in XML, you can also express in JSON. JSON is a little less verbose, because you don't need all the opening and closing tags.</p>

<p>The main data structures in JSON are dictionaries (or "mappings"), which match a key to a value, or multiple keys to multiple values, and lists.</p>

<p>Dictionaries are just a list of key-value pairs enclosed by curly-braces. Just as in Python. Lists use square-brackets, just like Python does, and separate the values in the list with commas.</p>

<table>
<tbody>
<tr><td>Dictionaries</td><td>Lists</td></tr>
<tr><td>{"key": value}</td><td>[1, 2, "three", [True, 5.6]</td></tr>
</tbody>
</table>

<p>The data types available in JSON are: integer, string, boolean, and float. We can, of course, also have "null," as in the empty list [] for example.</p>

<p>Let's look at how to parse JSON in Python. JSON is now included in Python version 2.6 and later (App Engine currently uses version 2.7).</p>

<p>We begin by importing JSON and then making a JSON string in Python, which we will call j:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pln"> json
  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> j </span><span class="pun">=</span><span class="pln">  </span><span class="str">'{"one": 1, "numbers": [1,2,3.5]}'</span></code></pre>

<p>Our JSON string is a dictionary with two keys, "one" and "number". The value of "one" is 1, and the value of "numbers" is the list [1, 2 , 3.5].</p>

<p>JSON includes the function loads(), which stands for "load string" which parses the string:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> json</span><span class="pun">.</span><span class="pln">loads</span><span class="pun">(</span><span class="pln">j</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">u</span><span class="str">'numbers'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3.5</span><span class="pun">],</span><span class="pln"> u</span><span class="str">'one'</span><span class="pun">:</span><span class="pln">  </span><span class="lit">1</span><span class="pun">}</span></code></pre>

<p>This has returned a Python dictionary with the same keys, "numbers" and "one" and the same values, 1 and [1, 2, 3.5]. The order doesn't matter in a Python dictionary.</p>

<p>f we store this as a variable d, we can then manipulate it. We can look at just d['numbers'] to see our list:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> d </span><span class="pun">=</span><span class="pln"> json</span><span class="pun">.</span><span class="pln">loads</span><span class="pun">(</span><span class="pln">j</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> d</span><span class="pun">[</span><span class="str">'numbers'</span><span class="pun">]</span><span class="pln">
  </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3.5</span><span class="pun">]</span><span class="pln">
  </span><span class="typ">We</span><span class="pln"> can look at d</span><span class="pun">[</span><span class="str">'one'</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> we</span><span class="str">'ll see our number 1:
  &gt;&gt;&gt; d['</span><span class="pln">one</span><span class="str">']
  1</span></code></pre>

<p>In fact, because JSON looks just like Python, we could even eval(j):</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> </span><span class="kwd">eval</span><span class="pun">(</span><span class="pln">j</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">{</span><span class="str">'numbers'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3.5</span><span class="pun">],</span><span class="pln"> </span><span class="str">'one'</span><span class="pun">:</span><span class="pln">  </span><span class="lit">1</span><span class="pun">}</span></code></pre>

<p>What eval() does is to treats the argument as Python code as if it had just been typed at the prompt. Now, although that's a pretty neat thing you can do, <strong>you should never, ever do it</strong>. This is because, in addition to having JSON in here, somebody could actually have malicious code that might do something to your computer. <strong>Never use eval() for parsing JSON.</strong></p>

<hr>

<hr>

<h3 id="quiz-parsing-json">Quiz: Parsing JSON</h3>

<p>reddit_front is a JSON string of reddit's front page. Inside it is a list of links, each of which has an "ups" attribute. From this dataset, what is the total number of ups of all the links?</p>

<p>Implement the function total_ups(), and make it return the total number of ups. This is going to require some experimental searching through the reddit_front JSON, which is a fairly typical problem when dealing with APIs, RSS, or JSON.</p>

<p>You'll need to load the json using the json.loads method, after which you should be able to search through the json similarly to a dictionary or list.</p>

<p>Note that you will need to access parts of the JSON as a dictionary, and others as a list.</p>

<h3 id="apis">APIs</h3>

<p>We can access any page on Reddit in JSON or in XML just by changing the extension. The required extensions are simply .json or .xml respectively.</p>

<p>A lot of web-pages now have this feature allowing you to get their content in different formats. A good example of this is Twitter.</p>

<p>If we do a search for Udacity on Twitter, we can see all the tweets about Udacity. If we want this listing in JSON, we can just go to:</p>

<p>search.twitter.com/search.JSONq=Udacity</p>

<p>The result is the JSON listing of the same search result that we were just looking at on Twitter.</p>

<p>If you're writing web software and you want to manipulate another website or just get data from another website, it is usually not very difficult to find their APIs. We found this API by just googling "Twitter API", and the documentation for this came up. There's a whole page about Twitter's search API:</p>

<p><a href="https://dev.twitter.com/docs/api/1/get/search">https://dev.twitter.com/docs/api/1/get/search</a></p>

<p>If you are building websites that have data, such as a blog, for example, designing your site so that it supports RSS, an XML representation of its content and a JSON representation of its content, allows other people to build software on top of your website that can do cool things.</p>

<p>Many large websites, including Wikipedia, Twitter, and Reddit support these types of functionality. Your homework in this class is actually going to be to add that functionality to the blog that you've been working on.</p>

<h3 id="json-escaping">JSON Escaping</h3>

<p>We saw in lesson 2 how we had to escape any HTML content so that it rendered correctly in the browser. There is a similar issue with JSON.</p>

<p>Imagine that we have a s little JSON blog with a dictionary that takes a key "story" and maps it to the string "once upon a time:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">{</span><span class="str">"story"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"once upon  a time"</span><span class="pun">}</span></code></pre>

<p>This is valid JSON. In this case, the key is surrounded by double quotes, and the value is also surrounded by double quotes.</p>

<p>What would happen if the value also happened to include double quotes? Let's say for argument's sake that the dictionary was actually:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">{</span><span class="str">"story"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"once  u"</span><span class="pln">on a time</span><span class="str">"}</span></code></pre>

<p>This would cause a problem, because this is now invalid JSON. As far as the JSON parser is concerned, the quote we inserted now ends the string, and the string is followed by some garbage characters.</p>

<p>We can get around this problem by escaping the extra double quote. We can escape the quote in Python by just adding a slash in front for it:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">{</span><span class="str">"story"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"once  u\"on a time"</span><span class="pun">}</span></code></pre>

<p>Now, this escapes the quote in Python, but what this turns into for the JSON parser is just the string that we had before., i.e.</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">{</span><span class="str">"story"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"once  u"</span><span class="pln">on a time</span><span class="str">"}</span></code></pre>

<p>In fact, we need to escape both the quote and the slash by adding a second slash in order for this to work:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">{</span><span class="str">"story"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"once  u\\"</span><span class="pln">on a time</span><span class="str">"}</span></code></pre>

<p>Basically, the second slash is the Python escape for the first slash. This tells Python that we're inserting a slash into the string, and yes, we actually meant to do that. Now, the JSON interpreter will see that slash and understand that we did mean to include the quote.</p>

<p>There is another way to achieve the same result in Python which can be a little simpler. The double slashes can be a little confusing, so what we do is just put an "r" in front of the string. This indicates that it is a raw string and tells Python to ignore any escaping we're doing here:</p>

<pre><code class="prettyprint"><span class="pln">  json</span><span class="pun">.</span><span class="pln">loads</span><span class="pun">(</span><span class="pln">r</span><span class="str">'{"story":  "once u\"on a time"}'</span><span class="pun">)</span></code></pre>

<p>The JSON module can now interpret the slash and escape the additional quote.</p>

<p>Escaping shouldn't be a major issue when we read JSON, because we assume that the JSON we're going to be reading is valid. If it isn't valid, our JSON module will tell us by throwing an exception when we try to read it.</p>

<p>The function for writing JSON in Python is called dumps(). This stands for "dump-string". You can pass a Python object into dumps() and it will convert that object into JSON for you. Let's see that in the Python interpreter. We will pass a list, [1, 2, 3] into dumps():</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> json</span><span class="pun">.</span><span class="pln">dumps</span><span class="pun">([</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln">  </span><span class="lit">3</span><span class="pun">])</span><span class="pln">
  </span><span class="str">'[1, 2, 3]'</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>We didn't put quotes around the list because this is the actual list object we want to convert into JSON. The output is the string, '[1, 2, 3]'. What happens if we try this with a more complicated object? Let's try with the dictionary object we saw earlier, {"one": 1, "two": 2}:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> json</span><span class="pun">.</span><span class="pln">dumps</span><span class="pun">({</span><span class="str">"one"</span><span class="pun">:</span><span class="pln">  </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"two"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">})</span><span class="pln">
  </span><span class="str">'{"two": 2,  "one": 1}'</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>Now the order has changed, but then the order isn't defined in dictionaries, and we now have our JSON. Let's change the dictionary so that the second value needs to be escaped, {"one": 1, "two": 'the man said, "cool!"'}, and pass this into dumps():</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln">  json</span><span class="pun">.</span><span class="pln">dumps</span><span class="pun">({</span><span class="str">"one"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"two"</span><span class="pun">:</span><span class="pln"> </span><span class="str">'the man said,  "cool!"'</span><span class="pun">})</span><span class="pln">
  </span><span class="str">'{"two": "the man  said, \\"cool!\\"", "one": 1}'</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>The JSON library has escaped the extra double-quotes for us, and has produced a Python sting that is a representation of valid JSON.</p>

<p>A word of caution: the string produced in the last example is not, in itself, valid JSON. It is valid Python <em>representing</em> valid JSON. That's why we had those double slashes. You need to be careful when you are copying and pasting JSON in and out of Python and make certain that you get the escaping right.</p>

<p>If we print the last expression in the Python shell we get:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> </span><span class="kwd">print</span><span class="pln">  json</span><span class="pun">.</span><span class="pln">dumps</span><span class="pun">({</span><span class="str">"one"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"two"</span><span class="pun">:</span><span class="pln"> </span><span class="str">'the man said,  "cool!"'</span><span class="pun">})</span><span class="pln">
  </span><span class="pun">{</span><span class="str">"two"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"the man  said, \"cool!\""</span><span class="pun">,</span><span class="pln"> </span><span class="str">"one"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">}</span><span class="pln">
  </span><span class="pun">&gt;&gt;&gt;</span></code></pre>

<p>The string: {"two": "the man said, \"cool!\"", "one": 1}, with the single slashes is the actual valid JSON.</p>

<p>One other thing to remember is that the main distinction between a Python object and a JSON representation of a very similar object is that <strong>JSON has to use double quotes</strong> <strong>to delineate a string</strong>. You can't use single quotes like can with Python.</p>

<p>Now, as we've seen, JSON maps very nicely to Python data structures, provided that you're using integers, floats and strings. If you want to map some of the more complex Python structures to JSON (say you need to map an object or a date time), the simple JSON dumps() function isn't going to work. You will have to convert these by hand to simple data structures made up of dictionaries and lists of integers and strings so that they can be ouput properly.</p>

<h3 id="quiz-escaping-json-in-python">Quiz: Escaping JSON in Python</h3>

<p>What is the valid JSON for this Python datastructure:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="pun">{</span><span class="str">"blah"</span><span class="pun">:[</span><span class="str">"one"</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="str">'th"r"ee'</span><span class="pun">]}</span></code></pre>

<p>Note that JSON must use double quotes to enclose strings, it cannot use single quotes.</p>

<h2 id="being-a-good-citizen">Being a Good Citizen</h2>

<p>Let's take a few moments to talk about how to be a good citizen on the internet.</p>

<p>When you write programs to access or manipulate data on other people's websites there are a couple of things you can do that make life easier for everyone. Firstly, always use a good user-agent. You'll remember from Lesson 1 that user agents are the header that describes what browser you're using, or what program you're using to access a site.</p>

<p>If you use urlLib2, you can specify headers in your request. You should set a user agent header that says who you are, what you're name is, and perhaps a link to your website. This is not only good Internet manners, it is in your own interests.</p>

<p>If you're going to be accessing a site relatively heavily or consistently, perhaps checking for regular updates or something of that sort, when they see you hitting them with lots of requests they can check your user agent header to find out who you are, and perhaps why you are accessing their site. If your requests are hurting their server response times, they can contact you and ask that you stop or change your access pattern rather than simply blocking you.</p>

<p>The second really important thing you should do is to rate-limit yourself. Let's say that you wanted to download all the search results for the word Udacity on Twitter. You can request them from Twitter and their API will return 15 at a time. You could set up a loop and send requests to Twitter as fast as their servers can handle them until you've downloaded all the search results. The problem is that this would actually hurt the performance of Twitter's servers. The solution is to slow the speed at which you send requests.</p>

<p>In Python, you can import the time library and use the <a href="http://docs.python.org/library/time.html#time.sleep">sleep()</a> function to introduce a delay into your code:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="kwd">import</span><span class="pln"> time
  </span><span class="kwd">while</span><span class="pln"> more</span><span class="pun">:</span><span class="pln">
  get_more</span><span class="pun">()</span><span class="pln">
  time</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span></code></pre>

<p>This will cause the Python interpreter to sleep for one second, and so introduces a one second delay. Now you'd only be hitting their servers once per second, which is much more sustainable. If you abuse their service or send too many requests, they'll probably rate-limit you. Twitter certainly will!</p>

<h3 id="soap">SOAP</h3>

<p>There are a number of other common protocols and formats for communicating across the Internet. Lots of people use these protocols, and if you need to access servers that use these protocols, then you will have to use them too. We will list some of these here.</p>

<p>The first of these is <a href="http://en.wikipedia.org/wiki/SOAP">SOAP</a>, or Simple Object Access Protocol This is another protocol for communicating between two machines. It is based on XML and is very, very complicated. It was invented by Microsoft to make online communication as complicated as possible. A lot of the data sources used by Hipmunk communicate via SOAP.</p>

<p>Next are <a href="http://code.google.com/p/protobuf/">Protocol Buffers</a>, which are Google's data interchange format. It's similar in concept to JSON, and is a way of encoding different types of data for sending it over the wire.</p>

<p><a href="http://en.wikipedia.org/wiki/Apache_Thrift">Apache Thrift</a> is used by Facebook. This is a "software framework, for scalable cross-language services development".</p>

<ul>
<li>Protocol Buffers and Thrift might be compared more to JSON. SOAP would compare more to HTTP plus JSON as a complete package of the protocol and the data type. Implementations of JSON, SOAP, Thrift and Protocol buffers can be found in almost any language.</li>
</ul>

<p>There are also a whole range of plaintext, custom formats. You can always just build your own plaintext protocol, and data format, but this isn't generally recommended. It's really not that hard to use JSON instead. Then, when somebody who needs to use the service comes along, they don't have to figure out how to write all the custom code needed to parse your custom stuff.</p>

<p>As a general rule, use something that already exists. It'll save everybody a lot of time.</p>

<h3 id="quiz-good-habits">Quiz: Good Habits</h3>

<p>Which of these are good habits to get into?</p>

<ul>
<li>Sending proper user agents?</li>
<li>Writing custom protocols?</li>
<li>Using SOAP?</li>
<li>Rate-limiting yourself?</li>
<li>Using common protocols and data formats?</li>
</ul>

<hr>

<hr>

<h2 id="ascii-chan-2">ASCII Chan 2</h2>

<p>Let's get on and do some actual programming.</p>

<ul>
<li>We're going to add a new feature to ASCII Chan. What we are going to do is to add a map to the front page that shows where the most recent submissions came from. This way, when you come to ASCII Chan you will see what a global community it is. To achieve this, we have to do a number of things things.</li>
</ul>

<p>First, we are going to need to figure out where the user submitting the art is from. What we need is a service that converts the request IP address into map coordinates. We are going to use a handy little service called <a href="http://www.hostip.info/">hostip.info</a>. Basically, for any IP address, they will tell you where it's located. They also have an API that has very simple documentation. The documentation is located <a href="http://www.hostip.info/use.html">here</a>.</p>

<p>In essence, if we go to api.hostip.info and include the IP address in a get parameter:</p>

<p><a href="http://api.hostip.info/?ip=12.215.42.19">http://api.hostip.info/?ip=12.215.42.19</a></p>

<p>they'll return some XML with location data:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="tag">&lt;HostipLookupResultSet</span><span class="pln">  </span><span class="atn">version</span><span class="pun">=</span><span class="atv">"1.0.1"</span><span class="pln"> </span><span class="atn">xsi:noNamespaceSchemaLocation</span><span class="pln">
  </span><span class="pun">=</span><span class="atv">"http://www.hostip.info/api/hostip-1.0.1.xsd"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;gml:description&gt;</span><span class="pln">This is  the Hostip Lookup Service</span><span class="tag">&lt;/gml:description&gt;</span><span class="pln">
  </span><span class="tag">&lt;gml:name&gt;</span><span class="pln">hostip</span><span class="tag">&lt;/gml:name&gt;</span><span class="pln">
  </span><span class="tag">&lt;gml:boundedBy&gt;</span><span class="pln">
  </span><span class="tag">&lt;gml:Null&gt;</span><span class="pln">inapplicable</span><span class="tag">&lt;/gml:Null&gt;</span><span class="pln">
  </span><span class="tag">&lt;/gml:boundedBy&gt;</span><span class="pln">
  </span><span class="tag">&lt;gml:featureMember&gt;</span><span class="pln">
  </span><span class="tag">&lt;Hostip&gt;</span><span class="pln">
  </span><span class="tag">&lt;ip&gt;</span><span class="pln">12.215.42.19</span><span class="tag">&lt;/ip&gt;</span><span class="pln">
  </span><span class="tag">&lt;gml:name&gt;</span><span class="pln">Aurora, TX</span><span class="tag">&lt;/gml:name&gt;</span><span class="pln">
  </span><span class="tag">&lt;countryName&gt;</span><span class="pln">UNITED STATES</span><span class="tag">&lt;/countryName&gt;</span><span class="pln">
  </span><span class="tag">&lt;countryAbbrev&gt;</span><span class="pln">US</span><span class="tag">&lt;/countryAbbrev&gt;</span><span class="pln">
  </span><span class="com">&lt;!--  Co-ordinates are available as lng,lat --&gt;</span><span class="pln">
  </span><span class="tag">&lt;ipLocation&gt;</span><span class="pln">
  </span><span class="tag">&lt;gml:pointProperty&gt;</span><span class="pln">
  </span><span class="tag">&lt;gml:Point</span><span class="pln">  </span><span class="atn">srsName</span><span class="pun">=</span><span class="atv">"http://www.opengis.net/gml/srs/epsg.xml#4326"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;gml:coordinates&gt;</span><span class="pln">-97.5159,33.0582</span><span class="tag">&lt;/gml:coordinates&gt;</span><span class="pln">
  </span><span class="tag">&lt;/gml:Point&gt;</span><span class="pln">
  </span><span class="tag">&lt;/gml:pointProperty&gt;</span><span class="pln">
  </span><span class="tag">&lt;/ipLocation&gt;</span><span class="pln">
  </span><span class="tag">&lt;/Hostip&gt;</span><span class="pln">
  </span><span class="tag">&lt;/gml:featureMember&gt;</span><span class="pln">
  </span><span class="tag">&lt;/HostipLookupResultSet&gt;</span></code></pre>

<p>This includes the country and some coordinate information (longitude and latitude).</p>

<p>The next thing we need to do is to draw a map. We'll use Google Maps for this.</p>

<p>Google Maps has a really useful service called "static maps" which allows us to embed a Google map on our page. The Google Static Map service will create our map based on URL parameters that we can send through a standard HTTP request, and will return the map as an image that we can display on our front page.</p>

<p>The <a href="https://developers.google.com/maps/documentation/staticmaps/">documentation for Static Maps</a> is on the Google Developers site.</p>

<h3 id="geolocation">Geolocation</h3>

<p>Let's begin with the first task, which is to implement a function that looks up the IP address. This is our current ASCI Chan code:</p>

<pre><code class="prettyprint"><span class="kwd">import</span><span class="pln"> os
</span><span class="kwd">import</span><span class="pln"> re
</span><span class="kwd">import</span><span class="pln"> sys

</span><span class="kwd">from</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="kwd">import</span><span class="pln"> letters

</span><span class="kwd">import</span><span class="pln"> webapp2
</span><span class="kwd">import</span><span class="pln"> jinja2
</span><span class="kwd">from</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">appengine</span><span class="pun">.</span><span class="pln">ext </span><span class="kwd">import</span><span class="pln"> db

template_dir </span><span class="pun">=</span><span class="pln"> os</span><span class="pun">.</span><span class="pln">path</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="pln">path</span><span class="pun">.</span><span class="pln">dirname</span><span class="pun">(</span><span class="pln">__file__</span><span class="pun">),</span><span class="pln"> </span><span class="str">'templates'</span><span class="pun">)</span><span class="pln">
jinja_env </span><span class="pun">=</span><span class="pln"> jinja2</span><span class="pun">.</span><span class="typ">Environment</span><span class="pun">(</span><span class="pln">loader </span><span class="pun">=</span><span class="pln"> jinja2</span><span class="pun">.</span><span class="typ">FileSystemLoader</span><span class="pun">(</span><span class="pln">template_dir</span><span class="pun">),</span><span class="pln"> autoescape</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)</span><span class="pln">

art_key </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">Key</span><span class="pun">.</span><span class="pln">from_path</span><span class="pun">(</span><span class="str">'ASCIIChan'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'arts'</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">def</span><span class="pln"> console</span><span class="pun">(</span><span class="pln">s</span><span class="pun">):</span><span class="pln">
        sys</span><span class="pun">.</span><span class="pln">stderr</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="str">'%s\n'</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> s</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Handler</span><span class="pun">(</span><span class="pln">webapp2</span><span class="pun">.</span><span class="typ">RequestHandler</span><span class="pun">):</span><span class="pln">
        </span><span class="kwd">def</span><span class="pln"> write</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> </span><span class="pun">*</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kw</span><span class="pun">):</span><span class="pln">
                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">response</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(*</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kw</span><span class="pun">)</span><span class="pln">

        </span><span class="kwd">def</span><span class="pln"> render_str</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">template</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="kwd">params</span><span class="pun">):</span><span class="pln">
                t </span><span class="pun">=</span><span class="pln"> jinja_env</span><span class="pun">.</span><span class="pln">get_template</span><span class="pun">(</span><span class="kwd">template</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">render</span><span class="pun">(</span><span class="kwd">params</span><span class="pun">)</span><span class="pln">

        </span><span class="kwd">def</span><span class="pln"> render</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">template</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kw</span><span class="pun">):</span><span class="pln">
                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render_str</span><span class="pun">(</span><span class="kwd">template</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kw</span><span class="pun">))</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Art</span><span class="pun">(</span><span class="pln">db</span><span class="pun">.</span><span class="typ">Model</span><span class="pun">):</span><span class="pln">
        title </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">StringProperty</span><span class="pun">(</span><span class="pln">required </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
        art </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">TextProperty</span><span class="pun">(</span><span class="pln">required </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
        created </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">DateTimeProperty</span><span class="pun">(</span><span class="pln">auto_now_add </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MainPage</span><span class="pun">(</span><span class="typ">Handler</span><span class="pun">):</span><span class="pln">
        </span><span class="kwd">def</span><span class="pln"> render_front</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> title</span><span class="pun">=</span><span class="str">""</span><span class="pun">,</span><span class="pln"> art</span><span class="pun">=</span><span class="str">""</span><span class="pun">,</span><span class="pln"> error</span><span class="pun">=</span><span class="str">""</span><span class="pun">):</span><span class="pln">
                arts </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">GqlQuery</span><span class="pun">(</span><span class="str">"SELECT * "</span><span class="pln">
                                                        </span><span class="str">"FROM Art "</span><span class="pln">
                                                        </span><span class="str">"WHERE ANCESTOR IS :1 "</span><span class="pln">
                                                        </span><span class="str">"ORDER BY created DESC "</span><span class="pln">
                                                        </span><span class="str">"LIMIT 10"</span><span class="pun">,</span><span class="pln">
                                                        art_key</span><span class="pun">)</span><span class="pln">

                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render</span><span class="pun">(</span><span class="str">"front.html"</span><span class="pun">,</span><span class="pln"> title</span><span class="pun">=</span><span class="pln">title</span><span class="pun">,</span><span class="pln"> art</span><span class="pun">=</span><span class="pln">art</span><span class="pun">,</span><span class="pln"> error </span><span class="pun">=</span><span class="pln"> error</span><span class="pun">,</span><span class="pln"> arts </span><span class="pun">=</span><span class="pln"> arts</span><span class="pun">)</span><span class="pln">

        </span><span class="kwd">def</span><span class="pln"> </span><span class="kwd">get</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span><span class="pln">
                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render_front</span><span class="pun">()</span><span class="pln">

        </span><span class="kwd">def</span><span class="pln"> post</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span><span class="pln">
                title </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">"title"</span><span class="pun">)</span><span class="pln">
                art </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">"art"</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> title </span><span class="kwd">and</span><span class="pln"> art</span><span class="pun">:</span><span class="pln">
                        p </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Art</span><span class="pun">(</span><span class="pln">parent</span><span class="pun">=</span><span class="pln">art_key</span><span class="pun">,</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln"> art</span><span class="pun">)</span><span class="pln">
                        p</span><span class="pun">.</span><span class="pln">put</span><span class="pun">()</span><span class="pln">

                        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">redirect</span><span class="pun">(</span><span class="str">"/"</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">else</span><span class="pun">:</span><span class="pln">
                        error </span><span class="pun">=</span><span class="pln"> </span><span class="str">"we need both a title and some artwork!"</span><span class="pln">
                        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render_front</span><span class="pun">(</span><span class="pln">error </span><span class="pun">=</span><span class="pln"> error</span><span class="pun">,</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln">art</span><span class="pun">)</span><span class="pln">

app </span><span class="pun">=</span><span class="pln"> webapp2</span><span class="pun">.</span><span class="typ">WSGIApplication</span><span class="pun">([(</span><span class="str">'/'</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MainPage</span><span class="pun">)],</span><span class="pln">
                              debug</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)</span></code></pre>

<p>Our get() function in the <a href="https://www.udacity.com/wiki/MainPage">MainPage</a>() handler just calls the function we called render_front(). This runs a basic query to get the 10 most recent pieces of art from the Google database object Art.</p>

<p>The post() function gets the title and the artwork from the request. If both of them are present, it creates a new art object and stores it in a database, and then reloads the page by doing a redirect. If the title and/or the artwork are missing, it displays an error message. We want to modify this to look up the user's coordinates from their IP address and, if they are available, add them to the art object:</p>

<pre><code class="prettyprint"><span class="pln">        </span><span class="kwd">def</span><span class="pln"> post</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span><span class="pln">
                title </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">"title"</span><span class="pun">)</span><span class="pln">
                art </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">"art"</span><span class="pun">)</span><span class="pln">

                </span><span class="kwd">if</span><span class="pln"> title </span><span class="kwd">and</span><span class="pln"> art</span><span class="pun">:</span><span class="pln">
                        p </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Art</span><span class="pun">(</span><span class="pln">parent</span><span class="pun">=</span><span class="pln">art_key</span><span class="pun">,</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln"> art</span><span class="pun">)</span><span class="pln">
                        </span><span class="com">#lookup the user's coordinates from their IP</span><span class="pln">
                        </span><span class="com">#if we have coordinates, add them to the art</span><span class="pln">
                        p</span><span class="pun">.</span><span class="pln">put</span><span class="pun">()</span><span class="pln">

                        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">redirect</span><span class="pun">(</span><span class="str">"/"</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">else</span><span class="pun">:</span><span class="pln">
                        error </span><span class="pun">=</span><span class="pln"> </span><span class="str">"we need both a title and some artwork!"</span><span class="pln">
                        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render_front</span><span class="pun">(</span><span class="pln">error </span><span class="pun">=</span><span class="pln"> error</span><span class="pun">,</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln">art</span><span class="pun">)</span></code></pre>

<p>We know that we are going to request a URL and that we will be receiving some XML that we will need to parse, so we need to add the urllib2 and mindom libraries:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="kwd">import</span><span class="pln">  os
  </span><span class="kwd">import</span><span class="pln">  re
  </span><span class="kwd">import</span><span class="pln">  sys
  </span><span class="kwd">import</span><span class="pln"> urllib2
  </span><span class="kwd">from</span><span class="pln"> xml</span><span class="pun">.</span><span class="pln">dom </span><span class="kwd">import</span><span class="pln"> minidom
  </span><span class="kwd">from</span><span class="pln">  </span><span class="kwd">string</span><span class="pln"> </span><span class="kwd">import</span><span class="pln"> letters
  </span><span class="kwd">import</span><span class="pln">  webapp2
  </span><span class="kwd">import</span><span class="pln">  jinja2
  </span><span class="kwd">from</span><span class="pln">  google</span><span class="pun">.</span><span class="pln">appengine</span><span class="pun">.</span><span class="pln">ext </span><span class="kwd">import</span><span class="pln"> db</span></code></pre>

<p>We are going to need a function to look up the users coordinates from their IP address. We'll call this function get_coords(). This will take an IP address as its argument and make a request to hostip.info. We've taken the URL from the hostip.info. API documentation and removed the sample IP address:</p>

<pre><code class="prettyprint"><span class="pln">  IP_URL  </span><span class="pun">=</span><span class="pln"> </span><span class="str">"http://api.hostip.info/?ip="</span><span class="pln">
  </span><span class="kwd">def</span><span class="pln">  get_coords</span><span class="pun">(</span><span class="pln">ip</span><span class="pun">):</span><span class="pln">
  url </span><span class="pun">=</span><span class="pln"> IP_URL </span><span class="pun">+</span><span class="pln"> ip</span></code></pre>

<p>Now, you already know how to make a basic URL request. We'll show you a few things you can do in the real world to make the requests a little less prone to errors.</p>

<p>We are going to store the content of the URL in a variable called "content". We'll be using urllib2.urlopen():</p>

<pre><code class="prettyprint"><span class="pln">  content  </span><span class="pun">=</span><span class="pln"> urllib2</span><span class="pun">.</span><span class="pln">urlopen</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">read</span><span class="pun">()</span></code></pre>

<p>If the URL is invalid or the website is down, this is going to generate an exception. In this case we happen to know what that exception is, so we can write:</p>

<pre><code class="prettyprint"><span class="kwd">def</span><span class="pln"> get_coords</span><span class="pun">(</span><span class="pln">ip</span><span class="pun">):</span><span class="pln">
        url </span><span class="pun">=</span><span class="pln"> IP_URL </span><span class="pun">+</span><span class="pln"> ip
        content </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">None</span><span class="pln">
        </span><span class="kwd">try</span><span class="pun">:</span><span class="pln">
                content </span><span class="pun">=</span><span class="pln"> urllib2</span><span class="pun">.</span><span class="pln">urlopen</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">read</span><span class="pun">()</span><span class="pln">
        </span><span class="kwd">except</span><span class="pln"> urllib2</span><span class="pun">.</span><span class="typ">URLError</span><span class="pun">:</span><span class="pln">
                </span><span class="kwd">return</span></code></pre>

<p>If there is a URL error, there are no are no coordinates, and we'll just return.</p>

<p>Normally we would probably log these errors so that when we are maintaining the site we can see that the geocoding is broken for some reason.</p>

<h3 id="quiz-geolocation">Quiz: Geolocation</h3>

<p>Implement the get_coords(xml) function that takes in an xml string and returns a tuple of (lat, lon) if there are coordinates in the xml.</p>

<p>Remember that you should use minidom to do this. Also, notice that the coordinates in the xml string are in the format: (lon,lat), so you will have to switch them around.</p>

<p>We have provided an example chunk of XML that comes from that website that should work.</p>

<h3 id="debugging">Debugging</h3>

<p>Here is our get_coords() function:</p>

<pre><code class="prettyprint"><span class="kwd">def</span><span class="pln"> get_coords</span><span class="pun">(</span><span class="pln">ip</span><span class="pun">):</span><span class="pln">
        url </span><span class="pun">=</span><span class="pln"> IP_URL </span><span class="pun">+</span><span class="pln"> ip
        content </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">None</span><span class="pln">
        </span><span class="kwd">try</span><span class="pun">:</span><span class="pln">
                content </span><span class="pun">=</span><span class="pln"> urllib2</span><span class="pun">.</span><span class="pln">urlopen</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">read</span><span class="pun">()</span><span class="pln">
        </span><span class="kwd">except</span><span class="pln">
</span><span class="pun">:</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln">

        </span><span class="kwd">if</span><span class="pln"> content</span><span class="pun">:</span><span class="pln">
                d </span><span class="pun">=</span><span class="pln"> minidom</span><span class="pun">.</span><span class="pln">parseString</span><span class="pun">(</span><span class="pln">content</span><span class="pun">)</span><span class="pln">
                coords </span><span class="pun">=</span><span class="pln"> d</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"gml:coordinates"</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> coords </span><span class="kwd">and</span><span class="pln"> coords</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">childNodes</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">nodeValue</span><span class="pun">:</span><span class="pln">
                        lon</span><span class="pun">,</span><span class="pln"> lat </span><span class="pun">=</span><span class="pln"> coords</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">childNodes</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">nodeValue</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">','</span><span class="pun">)</span><span class="pln">
                        </span><span class="kwd">return</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">GeoPt</span><span class="pun">(</span><span class="pln">lat</span><span class="pun">,</span><span class="pln"> lon</span><span class="pun">)</span></code></pre>

<p>We have slightly modified the code from the quiz solution. Google App Engine includes a data type for storing a latitude and longitude. This is <a href="https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/GeoPt">GeoPt</a>. So what we actually want to return is db.<a href="https://www.udacity.com/wiki/GeoPt">GeoPt</a>(lat, long).</p>

<p>Let's run a quick test to check that this function is working. We are going to add a line to our get() function:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="kwd">def</span><span class="pln"> </span><span class="kwd">get</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span><span class="pln">
  </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="pln">repr</span><span class="pun">(</span><span class="pln">get_coords</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">remote_addr</span><span class="pun">)))</span><span class="pln">
  </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render_front</span><span class="pun">()</span></code></pre>

<p>When you print a Python object, it has angle brackets around it. When you print it in HTML, the browser will interpret the object as a tag, and it won't actually print what you're trying to print. Using <a href="http://docs.python.org/library/repr.html?highlight=repr#repr">repr()</a> is a handy trick when you need to print Python objects in HTML. You'll get some extra quotes and the object will print properly.</p>

<p>The remote_addr attribute of the request object that is the parameter for the get_coords() function is the requesting IP address. Almost every web framer will give you access to the requesting IP.</p>

<p>If we reload the web page we see the response in the browser:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="kwd">None</span></code></pre>

<p>Well, that's certainly better than an exception! Let's see if we can discover why we didn't get a location. Let's add the following line to our get() function:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">remote_addr</span><span class="pun">)</span></code></pre>

<p>Now we see:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="lit">127.0</span><span class="pun">.</span><span class="lit">0.1None</span></code></pre>

<p>The IP address 127.0.0.1 means that we're running the app locally. For any of you who don't know, every machine has a local IP address of 127.0.0.1. This is known as the <strong>loop-back address</strong>, and is how a machine refers to itself. Local host generally refers to that IP address. It's hardly surprising that a service on the internet doesn't know what our local IP is!</p>

<p>For the purpose of testing the get_coords() function, we can manually set the IP to an address we know is real: 4.2.2.2. This is a big-name server than helps resolve DNS names into IPs. The get_coords() function is now:</p>

<pre><code class="prettyprint"><span class="kwd">def</span><span class="pln"> get_coords</span><span class="pun">(</span><span class="pln">ip</span><span class="pun">):</span><span class="pln">
        ip </span><span class="pun">=</span><span class="pln"> </span><span class="str">"4.2.2.2"</span><span class="pln">
        url </span><span class="pun">=</span><span class="pln"> IP_URL </span><span class="pun">+</span><span class="pln"> ip
        content </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">None</span><span class="pln">
        </span><span class="kwd">try</span><span class="pun">:</span><span class="pln">
                content </span><span class="pun">=</span><span class="pln"> urllib2</span><span class="pun">.</span><span class="pln">urlopen</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">read</span><span class="pun">()</span><span class="pln">
        </span><span class="kwd">except</span><span class="pln"> urllib2</span><span class="pun">.</span><span class="typ">URLError</span><span class="pun">:</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln">

        </span><span class="kwd">if</span><span class="pln"> content</span><span class="pun">:</span><span class="pln">
                d </span><span class="pun">=</span><span class="pln"> minidom</span><span class="pun">.</span><span class="pln">parseString</span><span class="pun">(</span><span class="pln">content</span><span class="pun">)</span><span class="pln">
                coords </span><span class="pun">=</span><span class="pln"> d</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"gml:coordinates"</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> coords </span><span class="kwd">and</span><span class="pln"> coords</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">childNodes</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">nodeValue</span><span class="pun">:</span><span class="pln">
                        lon</span><span class="pun">,</span><span class="pln"> lat </span><span class="pun">=</span><span class="pln"> coords</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">childNodes</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">nodeValue</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">','</span><span class="pun">)</span><span class="pln">
                        </span><span class="kwd">return</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">GeoPt</span><span class="pun">(</span><span class="pln">lat</span><span class="pun">,</span><span class="pln"> lon</span><span class="pun">)</span></code></pre>

<p>Let's refresh our browser, and see if we get anything useful:</p>

<pre><code class="prettyprint"><span class="pln">  datastore_types</span><span class="pun">.</span><span class="typ">GeoPt</span><span class="pun">(</span><span class="lit">39.994</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">105.062</span><span class="pun">)</span></code></pre>

<p>So we're getting the coordinates of the IP address where that machine is located. Our IP function is working and, as a bonus, we have also tested the error case (which is something you should always do).</p>

<p>Back to our to-do list.</p>

<h3 id="updating-the-database">Updating the Database</h3>

<p>Now we are ready to modify our post function. The first thing we heed to add is a line to lookup the user's coordinates from their IP address:</p>

<pre><code class="prettyprint"><span class="pln">  coords </span><span class="pun">=</span><span class="pln">  get_coords</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">remote_addr</span><span class="pun">)</span></code></pre>

<p>Next, if there are coordinates, we need to add them to the art. At the moment, our Art object doesn't take coordinates, so we'll have to add an extra property to our Art database. Since we're returning a Geo Point, we can store it in a Geo Point Property:</p>

<pre><code class="prettyprint"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Art</span><span class="pun">(</span><span class="pln">db</span><span class="pun">.</span><span class="typ">Model</span><span class="pun">):</span><span class="pln">
        title </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">StringProperty</span><span class="pun">(</span><span class="pln">required </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
        art </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">TextProperty</span><span class="pun">(</span><span class="pln">required </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
        created </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">DateTimeProperty</span><span class="pun">(</span><span class="pln">auto_now_add </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
        coords </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">GeoPtProperty</span><span class="pun">(</span><span class="pln"> </span><span class="pun">)</span></code></pre>

<p>Obviously, we'd like to say (required = True) for coords, but we already have some art in our database that doesn't have coordinates. There are a couple of options available to us.</p>

<p>We could just delete all that art and start over. However, since ASCII Chan is such a hot site on the internet, and since everybody is using it, we don't want it to just break.</p>

<p>Alternatively we could just make this parameter not required. We'll just have it for future art. This is what we will do in this case.</p>

<p>Actually. this is something that comes up all the time when you're developing web applications. Because you will often be adding features, or tweaking the data model for your sites, you'll need to make decisions like this on a regular basis. It's kind of backwards compatibility.</p>

<p>Now we're ready to add the coordinates, if they exist, to the art. This is easy enough:</p>

<pre><code class="prettyprint"><span class="pln">        </span><span class="kwd">def</span><span class="pln"> post</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span><span class="pln">
                title </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">"title"</span><span class="pun">)</span><span class="pln">
                art </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">"art"</span><span class="pun">)</span><span class="pln">

                </span><span class="kwd">if</span><span class="pln"> title </span><span class="kwd">and</span><span class="pln"> art</span><span class="pun">:</span><span class="pln">
                        p </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Art</span><span class="pun">(</span><span class="pln">parent</span><span class="pun">=</span><span class="pln">art_key</span><span class="pun">,</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln"> art</span><span class="pun">)</span><span class="pln">
                        </span><span class="com">#lookup the user's coordinates from their IP</span><span class="pln">
                        coords </span><span class="pun">=</span><span class="pln"> get_coords</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">remote_addr</span><span class="pun">)</span><span class="pln">
                        </span><span class="com">#if we have coordinates, add them to the art</span><span class="pln">
                        </span><span class="kwd">if</span><span class="pln"> coords</span><span class="pun">:</span><span class="pln">
                                p</span><span class="pun">.</span><span class="pln">coords </span><span class="pun">=</span><span class="pln"> coords

                        p</span><span class="pun">.</span><span class="pln">put</span><span class="pun">()</span><span class="pln">

                        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">redirect</span><span class="pun">(</span><span class="str">"/"</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">else</span><span class="pun">:</span><span class="pln">
                        error </span><span class="pun">=</span><span class="pln"> </span><span class="str">"we need both a title and some artwork!"</span><span class="pln">
                        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render_front</span><span class="pun">(</span><span class="pln">error </span><span class="pun">=</span><span class="pln"> error</span><span class="pun">,</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln">art</span><span class="pun">)</span></code></pre>

<p>Now we can submit some art in our browser and see if we get an exception. Even if you don't see any exceptions, there is something you can do in Google App Engine to check that this submitted properly.</p>

<p>You may have noticed when you started up App Engine, that it mentions in the console that the Admin Console is available at a given URL. The Development Console defaults to the Datastore Viewer, and selects all of the entity kinds we have. In this case, we could click List Entities to see all of the entities in Art and check that the new piece of art has map coordinates.</p>

<p>Now that this is all working, we're ready to move on to the next task on our to-do list which is actually drawing the map.</p>

<h3 id="querying-coordinate-information">Querying Coordinate Information</h3>

<p>The first thing we need to do is to figure out how to draw the map from the API. We know that the URL is going to look like this:</p>

<pre><code class="prettyprint"><span class="pln">  http</span><span class="pun">:</span><span class="com">//maps.googleapis.com/maps/apis/staticmap</span></code></pre>

<p>followed by some parameters. The only required parameters are:</p>

<ul>
<li>size - which is going to be the rectangular dimensions of the map image.</li>
<li>sensor - this specifies whether the application requesting the static map is using a sensor to determine the user's location. In this case we will set this to False.</li>
</ul>

<p>Once we have these, we can set the <a href="https://developers.google.com/maps/documentation/staticmaps/#Markers">Static map markers parameters</a>. There are a number of optional styles that we could set if we wanted to (size, color, label), but we can just say markers followed by the coordinates. An example URL might look like this:</p>

<pre><code class="prettyprint"><span class="pln">http</span><span class="pun">:</span><span class="com">//maps.googleapis.com/maps/api/staticmap?size=512x512</span><span class="pln">

</span><span class="pun">&amp;</span><span class="pln">markers</span><span class="pun">=</span><span class="lit">40.702147</span><span class="pun">,-</span><span class="lit">74.015794</span><span class="pun">&amp;</span><span class="pln">sensor</span><span class="pun">=</span><span class="kwd">false</span></code></pre>

<p>The API works by looking for multiple markers parameters, so we can just add one markers parameter for each of our URLs.</p>

<ul>
<li>So, there are three steps to generate the image URL:</li>
<li>Find which arts have coordinates</li>
<li>If we have any arts coordinates, make an image URL</li>
<li>Display the image URL</li>
</ul>

<p>The first step is fairly easy. We just go through our list of arts and for each item check if it has coordinates:</p>

<pre><code class="prettyprint"><span class="pln">                points </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]</span><span class="pln">
                </span><span class="kwd">for</span><span class="pln"> a </span><span class="kwd">in</span><span class="pln"> arts</span><span class="pun">:</span><span class="pln">
                        </span><span class="kwd">if</span><span class="pln"> arts</span><span class="pun">.</span><span class="pln">coords</span><span class="pun">:</span><span class="pln">
                                points</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">a</span><span class="pun">.</span><span class="pln">coords</span><span class="pun">)</span></code></pre>

<p>||&lt;\^ width="640px"&gt;An alternative, shorter, method would be:</p>

<ul>
<li>Points = filter(None, (a.coords for a in arts)) (a.coords for a in arts) is a generator that would return an iterator of all the coordinates, which may be either coordinates or None. Then filter() takes two parameters. It takes a function or None and a list or an iterable and basically returns all of the items in the list that match the filter. In this case, if the filter is None, it basically says match all the ones that aren't None and will give us all of the coords for each a in art if it's not None. ||</li>
</ul>

<p>There is one subtle bug in our code:</p>

<pre><code class="prettyprint"><span class="pln">        </span><span class="kwd">def</span><span class="pln"> render_front</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> title</span><span class="pun">=</span><span class="str">""</span><span class="pun">,</span><span class="pln"> art</span><span class="pun">=</span><span class="str">""</span><span class="pun">,</span><span class="pln"> error</span><span class="pun">=</span><span class="str">""</span><span class="pun">):</span><span class="pln">
                arts </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">GqlQuery</span><span class="pun">(</span><span class="str">"SELECT * "</span><span class="pln">
                                        </span><span class="str">"FROM Art "</span><span class="pln">
                                        </span><span class="str">"WHERE ANCESTOR IS :1"</span><span class="pln">
                                        </span><span class="str">"ORDER BY created DESC "</span><span class="pln">
                                        </span><span class="str">"LIMIT 10"</span><span class="pun">,</span><span class="pln">
                                        art_key</span><span class="pun">)</span><span class="pln">

                </span><span class="com">#find which arts have coords</span><span class="pln">
                points </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]</span><span class="pln">
                </span><span class="kwd">for</span><span class="pln"> a </span><span class="kwd">in</span><span class="pln"> arts</span><span class="pun">:</span><span class="pln">
                        </span><span class="kwd">if</span><span class="pln"> arts</span><span class="pun">.</span><span class="pln">coords</span><span class="pun">:</span><span class="pln">
                                points</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">a</span><span class="pun">.</span><span class="pln">coords</span><span class="pun">)</span><span class="pln">

                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render</span><span class="pun">(</span><span class="str">"front.html"</span><span class="pun">,</span><span class="pln"> title</span><span class="pun">=</span><span class="pln">title</span><span class="pun">,</span><span class="pln"> art</span><span class="pun">=</span><span class="pln">art</span><span class="pun">,</span><span class="pln"> error </span><span class="pun">=</span><span class="pln"> error</span><span class="pun">,</span><span class="pln"> arts </span><span class="pun">=</span><span class="pln"> arts</span><span class="pun">)</span></code></pre>

<p>arts is a query. When we iterate over arts, we are actually running the query. We also run the query when we're rendering the front.html. The template has a loop in it that draws all the arts which also iterates over that arts query.</p>

<p>Now, we don't want to run the query twice. Not only is it wasteful, the results of the query could change between the two iterations. Whenever you find yourself iterating over results you get from a database, whether it's datastore or some other kind of curser based abstraction from a database, it's usually good to say something like this:</p>

<pre><code class="prettyprint"><span class="pln">  arts </span><span class="pun">=</span><span class="pln"> list</span><span class="pun">(</span><span class="pln">arts</span><span class="pun">)</span></code></pre>

<p>The arts that comes out of the query is a curser. What we have done here is to call the list constructor on that curser and say, in effect, make a list out of that iterable. Now we have cached the results of the query in the list and we can iterate over this list as many times as we want.</p>

<p>This is a good habit to get into if you think you might to be using results from a database query more than once.</p>

<h3 id="quiz-creating-the-image-url">Quiz: Creating the Image URL</h3>

<p>Implement the function gmaps_img(points) that returns the Google maps image for a map with the points passed in. A example valid response looks like this:</p>

<pre><code class="prettyprint"><span class="pln">  http</span><span class="pun">:</span><span class="com">//maps.googleapis.com/maps/api/staticmap?size=380x263&amp;sensor=false&amp;markers=1,2&amp;marker=3,4</span></code></pre>

<p>Note that you should be able to get the first and second part of an individual Point p with p.lat and p.lon, respectively, based on the above code. For example, points[0].lat would return 1, while points[2].lon would return 6.</p>

<h3 id="putting-it-all-together">Putting It All Together</h3>

<p>OK, so now we have a function that, given a list of points, returns the URL for the map image. Let's add the function to the application:</p>

<pre><code class="prettyprint"><span class="pln">  GMAPS_URL </span><span class="pun">=</span><span class="pln">  </span><span class="str">"http://maps.googleapis.com/maps/api/staticmap?size=380x263&amp;sensor=false&amp;"</span><span class="pln">
  </span><span class="kwd">def</span><span class="pln"> gmaps_img</span><span class="pun">(</span><span class="pln">points</span><span class="pun">):</span><span class="pln">
  markers </span><span class="pun">=</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="str">'markers=%s,%s'</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p</span><span class="pun">.</span><span class="pln">lat</span><span class="pun">,</span><span class="pln">  p</span><span class="pun">.</span><span class="pln">lon</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> p </span><span class="kwd">in</span><span class="pln"> points</span><span class="pun">)</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> GMAPS_URL </span><span class="pun">+</span><span class="pln"> markers</span></code></pre>

<p>Now we add the code to make a URL image if we have any coordinates:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="com">#if we have any arts coords, make an image URL&lt;</span><span class="pln">
  img_url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">None</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> points</span><span class="pun">:</span><span class="pln">
  img_url </span><span class="pun">=</span><span class="pln"> gmaps_img</span><span class="pun">(</span><span class="pln">points</span><span class="pun">)</span></code></pre>

<p>Next we are going to pass img_url into our template:</p>

<pre><code class="prettyprint"><span class="pln">  </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render</span><span class="pun">(</span><span class="str">"front.html"</span><span class="pun">,</span><span class="pln">  title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln"> art</span><span class="pun">,</span><span class="pln"> error </span><span class="pun">=</span><span class="pln"> error</span><span class="pun">,</span><span class="pln"> arts </span><span class="pun">=</span><span class="pln"> arts</span><span class="pun">,</span><span class="pln"> img_url </span><span class="pun">=</span><span class="pln"> img_url</span><span class="pun">)</span></code></pre>

<p>Finally, we have to update the front.html template. We want the image to display to the right of our form, so we add the code in the Jinja template language just after the &lt;/form&gt; closing tag:</p>

<pre><code class="prettyprint ng-binding"><span class="pln">  </span><span class="pun">{%</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> img_url </span><span class="pun">%}</span><span class="pln">
  </span><span class="pun">&lt;</span><span class="pln">img  </span><span class="kwd">class</span><span class="pun">=</span><span class="str">"map"</span><span class="pln"> src</span><span class="pun">=</span><span class="str">""</span><span class="pun">&gt;</span><span class="pln">
  </span><span class="pun">{%</span><span class="pln"> endif </span><span class="pun">%}</span></code></pre>

<p>So, if img_url (i.e. it's not None), include the image.</p>

<p>Notice the class="map" attribute. By default, the map would be displayed directly below our form in the browser window. We want it to be displayed to the right of the form. We do this by adding the class attribute and specifying the layout using the CSS styles. To specify the layout we added the following definition to the CSS:</p>

<pre><code class="prettyprint"><span class="pln">        </span><span class="pun">.</span><span class="pln">map </span><span class="pun">{</span><span class="pln">
                position</span><span class="pun">:</span><span class="pln"> absolute</span><span class="pun">;</span><span class="pln">
                right</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">112px</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span></code></pre>

<p>position: absolute allows us to position something anywhere on the page. We have specified that the map should be zero pixels from the right and 112 pixels from the top of the screen. It fits perfectly. Obviously we knew the size of the image beforehand.</p>

<p>The final version of the ASCIIChan 2 code is now:</p>

<pre><code class="prettyprint"><span class="kwd">import</span><span class="pln"> os
</span><span class="kwd">import</span><span class="pln"> re
</span><span class="kwd">import</span><span class="pln"> sys
</span><span class="kwd">import</span><span class="pln"> urllib2
</span><span class="kwd">from</span><span class="pln"> xml</span><span class="pun">.</span><span class="pln">dom </span><span class="kwd">import</span><span class="pln"> minidom

</span><span class="kwd">from</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="kwd">import</span><span class="pln"> letters

</span><span class="kwd">import</span><span class="pln"> webapp2
</span><span class="kwd">import</span><span class="pln"> jinja2

</span><span class="kwd">from</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">appengine</span><span class="pun">.</span><span class="pln">ext </span><span class="kwd">import</span><span class="pln"> db

template_dir </span><span class="pun">=</span><span class="pln"> os</span><span class="pun">.</span><span class="pln">path</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="pln">path</span><span class="pun">.</span><span class="pln">dirname</span><span class="pun">(</span><span class="pln">__file__</span><span class="pun">),</span><span class="pln"> </span><span class="str">'templates'</span><span class="pun">)</span><span class="pln">
jinja_env </span><span class="pun">=</span><span class="pln"> jinja2</span><span class="pun">.</span><span class="typ">Environment</span><span class="pun">(</span><span class="pln">loader </span><span class="pun">=</span><span class="pln"> jinja2</span><span class="pun">.</span><span class="typ">FileSystemLoader</span><span class="pun">(</span><span class="pln">template_dir</span><span class="pun">),</span><span class="pln"> autoescape</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)</span><span class="pln">

art_key </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">Key</span><span class="pun">.</span><span class="pln">from_path</span><span class="pun">(</span><span class="str">'ASCIIChan'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'arts'</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">def</span><span class="pln"> console</span><span class="pun">(</span><span class="pln">s</span><span class="pun">):</span><span class="pln">
        sys</span><span class="pun">.</span><span class="pln">stderr</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="str">'%s\n'</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> s</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Handler</span><span class="pun">(</span><span class="pln">webapp2</span><span class="pun">.</span><span class="typ">RequestHandler</span><span class="pun">):</span><span class="pln">
        </span><span class="kwd">def</span><span class="pln"> write</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> </span><span class="pun">*</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kw</span><span class="pun">):</span><span class="pln">
                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">response</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(*</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kw</span><span class="pun">)</span><span class="pln">

        </span><span class="kwd">def</span><span class="pln"> render_str</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">template</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="kwd">params</span><span class="pun">):</span><span class="pln">
                t </span><span class="pun">=</span><span class="pln"> jinja_env</span><span class="pun">.</span><span class="pln">get_template</span><span class="pun">(</span><span class="kwd">template</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">render</span><span class="pun">(</span><span class="kwd">params</span><span class="pun">)</span><span class="pln">

        </span><span class="kwd">def</span><span class="pln"> render</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">template</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kw</span><span class="pun">):</span><span class="pln">
                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render_str</span><span class="pun">(</span><span class="kwd">template</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kw</span><span class="pun">))</span><span class="pln">

GMAPS_URL </span><span class="pun">=</span><span class="pln"> </span><span class="str">"http://maps.googleapis.com/maps/api/staticmap?size=380x263&amp;sensor=false&amp;"</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> gmap_img</span><span class="pun">(</span><span class="pln">points</span><span class="pun">):</span><span class="pln">
        markers </span><span class="pun">=</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="str">'markers=%s,%s'</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p</span><span class="pun">.</span><span class="pln">lat</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">lon</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> p </span><span class="kwd">in</span><span class="pln"> points</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> GMAPS_URL </span><span class="pun">+</span><span class="pln"> markers

IP_URL </span><span class="pun">=</span><span class="pln"> </span><span class="str">"http://api.hostip.info/?ip="</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> get_coords</span><span class="pun">(</span><span class="pln">ip</span><span class="pun">):</span><span class="pln">
        ip </span><span class="pun">=</span><span class="pln"> </span><span class="str">"4.2.2.2"</span><span class="pln">
        url </span><span class="pun">=</span><span class="pln"> IP_URL </span><span class="pun">+</span><span class="pln"> ip
        content </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">None</span><span class="pln">
        </span><span class="kwd">try</span><span class="pun">:</span><span class="pln">
                content </span><span class="pun">=</span><span class="pln"> urllib2</span><span class="pun">.</span><span class="pln">urlopen</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">read</span><span class="pun">()</span><span class="pln">
        </span><span class="kwd">except</span><span class="pln"> </span><span class="typ">URLError</span><span class="pun">:</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln">

        </span><span class="kwd">if</span><span class="pln"> content</span><span class="pun">:</span><span class="pln">
                d </span><span class="pun">=</span><span class="pln"> minidom</span><span class="pun">.</span><span class="pln">parseString</span><span class="pun">(</span><span class="pln">content</span><span class="pun">)</span><span class="pln">
                coords </span><span class="pun">=</span><span class="pln"> d</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"gml:coordinates"</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> coords </span><span class="kwd">and</span><span class="pln"> coords</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">childNodes</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">nodeValue</span><span class="pun">:</span><span class="pln">
                        lon</span><span class="pun">,</span><span class="pln"> lat </span><span class="pun">=</span><span class="pln"> coords</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">childNodes</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">nodeValue</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">','</span><span class="pun">)</span><span class="pln">
                        </span><span class="kwd">return</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">GeoPt</span><span class="pun">(</span><span class="pln">lat</span><span class="pun">,</span><span class="pln"> lon</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Art</span><span class="pun">(</span><span class="pln">db</span><span class="pun">.</span><span class="typ">Model</span><span class="pun">):</span><span class="pln">
        title </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">StringProperty</span><span class="pun">(</span><span class="pln">required </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
        art </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">TextProperty</span><span class="pun">(</span><span class="pln">required </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
        created </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">DateTimeProperty</span><span class="pun">(</span><span class="pln">auto_now_add </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
        coords </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">GeoPtProperty</span><span class="pun">(</span><span class="pln"> </span><span class="pun">)</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MainPage</span><span class="pun">(</span><span class="typ">Handler</span><span class="pun">):</span><span class="pln">
        </span><span class="kwd">def</span><span class="pln"> render_front</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> title</span><span class="pun">=</span><span class="str">""</span><span class="pun">,</span><span class="pln"> art</span><span class="pun">=</span><span class="str">""</span><span class="pun">,</span><span class="pln"> error</span><span class="pun">=</span><span class="str">""</span><span class="pun">):</span><span class="pln">
                arts </span><span class="pun">=</span><span class="pln"> db</span><span class="pun">.</span><span class="typ">GqlQuery</span><span class="pun">(</span><span class="str">"SELECT * "</span><span class="pln">
                                                        </span><span class="str">"FROM Art "</span><span class="pln">
                                                        </span><span class="str">"WHERE ANCESTOR IS :1 "</span><span class="pln">
                                                        </span><span class="str">"ORDER BY created DESC "</span><span class="pln">
                                                        </span><span class="str">"LIMIT 10"</span><span class="pun">,</span><span class="pln">
                                                        art_key</span><span class="pun">)</span><span class="pln">

                </span><span class="com">#prevent the running of multiple queries</span><span class="pln">
                arts </span><span class="pun">=</span><span class="pln"> list</span><span class="pun">(</span><span class="pln">arts</span><span class="pun">)</span><span class="pln">

                </span><span class="com">#find which arts have coords</span><span class="pln">
                img_url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">None</span><span class="pln">
                points </span><span class="pun">=</span><span class="pln"> filter</span><span class="pun">(</span><span class="kwd">None</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">a</span><span class="pun">.</span><span class="pln">coords </span><span class="kwd">for</span><span class="pln"> a </span><span class="kwd">in</span><span class="pln"> arts</span><span class="pun">))</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> points</span><span class="pun">:</span><span class="pln">
                        img_url </span><span class="pun">=</span><span class="pln"> gmap_img</span><span class="pun">(</span><span class="pln">points</span><span class="pun">)</span><span class="pln">

                </span><span class="com">#display the image URL</span><span class="pln">

                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render</span><span class="pun">(</span><span class="str">"front.html"</span><span class="pun">,</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln"> art</span><span class="pun">,</span><span class="pln"> error </span><span class="pun">=</span><span class="pln"> error</span><span class="pun">,</span><span class="pln"> arts </span><span class="pun">=</span><span class="pln"> arts</span><span class="pun">,</span><span class="pln"> img_url </span><span class="pun">=</span><span class="pln"> img_url</span><span class="pun">)</span><span class="pln">

        </span><span class="kwd">def</span><span class="pln"> </span><span class="kwd">get</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span><span class="pln">
                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">remote_addr</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="pln">repr</span><span class="pun">(</span><span class="pln">get_coords</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">remote_addr</span><span class="pun">)))</span><span class="pln">
                </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render_front</span><span class="pun">()</span><span class="pln">

        </span><span class="kwd">def</span><span class="pln"> post</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span><span class="pln">
                title </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">"title"</span><span class="pun">)</span><span class="pln">
                art </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">"art"</span><span class="pun">)</span><span class="pln">

                </span><span class="kwd">if</span><span class="pln"> title </span><span class="kwd">and</span><span class="pln"> art</span><span class="pun">:</span><span class="pln">
                        p </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Art</span><span class="pun">(</span><span class="pln">parent</span><span class="pun">=</span><span class="pln">art_key</span><span class="pun">,</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln"> art</span><span class="pun">)</span><span class="pln">
                        </span><span class="com">#lookup the user's coordinates from their IP</span><span class="pln">
                        coords </span><span class="pun">=</span><span class="pln"> get_coords</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">request</span><span class="pun">.</span><span class="pln">remote_addr</span><span class="pun">)</span><span class="pln">
                        </span><span class="com">#if we have coordinates, add them to the art</span><span class="pln">
                        </span><span class="kwd">if</span><span class="pln"> coords</span><span class="pun">:</span><span class="pln">
                                p</span><span class="pun">.</span><span class="pln">coords </span><span class="pun">=</span><span class="pln"> coords

                        p</span><span class="pun">.</span><span class="pln">put</span><span class="pun">()</span><span class="pln">

                        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">redirect</span><span class="pun">(</span><span class="str">"/"</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">else</span><span class="pun">:</span><span class="pln">
                        error </span><span class="pun">=</span><span class="pln"> </span><span class="str">"we need both a title and some artwork!"</span><span class="pln">
                        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">render_front</span><span class="pun">(</span><span class="pln">error </span><span class="pun">=</span><span class="pln"> error</span><span class="pun">,</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> art </span><span class="pun">=</span><span class="pln">art</span><span class="pun">)</span><span class="pln">

app </span><span class="pun">=</span><span class="pln"> webapp2</span><span class="pun">.</span><span class="typ">WSGIApplication</span><span class="pun">([(</span><span class="str">'/'</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MainPage</span><span class="pun">)],</span><span class="pln">
                              debug</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)</span></code></pre>

<p>ASCII Chan is now online at <a href="http://www.asciichan.com/">http://www.asciichan.com/</a></p>
</div>
</div>



<div id="wiki-footer">
    <p id="pm">This 
        page was last edited
    on 2015/07/02 21:24:29.</p>
</div>


		</div>
	</div>
</div>








<script type="text/ng-template" id="left_hand_nav.html">
	<div class="col-xs-1 text-center left-hand-nav" data-ng-class="'current-nav-location-' + location">
		<div data-ng-hide="courseKey == 'none'">
			<div class="row row-gap-small" data-ng-show="semanticType=='Course'">
				<div class="col-xs-12 nav-location-btn nav-location-dashboard">
					<a data-ng-href="/course/progress#!/c-{{uriEncode(courseKey)}}"
							class="text-swap-animation" amp-log-event="ClassroomLeftNavDashboard">
						<span class="sprite-dashboard"></span><br>
						Dashboard
					</a>
				</div>
			</div>
			<div class="row row-gap-small" data-ng-show="!semanticType || semanticType=='unknown' || semanticType =='Degree'">
				<div class="col-xs-12 nav-location-btn nav-location-dashboard">
					<span class="text-swap-animation">
						<span class="sprite-dashboard sprite-dashboard-disabled"></span><br>
						<span class="text-disabled">Dashboard</span>
					</span>
				</div>
			</div>
			<div class="row row-gap-small">
				<div class="col-xs-12 nav-location-btn nav-location-viewer">
					<a data-ng-href="/course/viewer#!/c-{{uriEncode(courseKey)}}" amp-log-event="ClassroomLeftNavViewer">
						<span class="sprite-viewer"></span>
						<br>
						Classroom
					</a>
				</div>
			</div>
			<div class="row row-gap-small">
				<div class="col-xs-12 nav-location-btn nav-location-materials">
					<a data-ng-href="/wiki/{{uriEncode(courseKey)}}" amp-log-event="ClassroomLeftNavMaterials">
						<span class="sprite-materials"></span><br>
						Materials
					</a>
				</div>
			</div>
			<div class="row row-gap-small" data-ng-hide="limitedAccess">
				<div class="col-xs-12 nav-location-btn nav-location-discussion">
						<a data-ng-href="{{forumUrl}}" target="_blank" data-ng-show="showDiscussion"
								class="text-swap-animation" amp-log-event="ClassroomLeftNavDiscussions">
							<span class="sprite-discussion"></span><br>
							Discussion
						</a>
						<span data-ng-hide="showDiscussion" class="text-swap-animation">
							<span class="sprite-discussion sprite-discussion-disabled"></span><br>
							<span class="text-muted">Discussion</span>
						</span>
				</div>
			</div>
			<div class="row row-gap-small" data-ng-hide="limitedAccess || semanticType!='Course'">
				<div class="col-xs-12 nav-location-btn nav-location-overview">
					<a data-ng-href="/course/{{uriEncode(courseKey)}}" amp-log-event="ClassroomLeftNavOverview">
						<span class="sprite-overview"></span><br>
						Overview
					</a>
				</div>
			</div>
		</div>
	</div>
</script>


		<script type="text/javascript">
			(function(a){
				if(a.querySelectorAll("[data-responsiveness-enabler]").length){
					var b=a.createElement("meta");b.name="viewport";
					b.content="width=device-width, initial-scale=1.0";
					a.getElementsByTagName("head")[0].appendChild(b)}
			})(document);
		</script>

	
		  <div id="footer-push"></div>
</div>

<footer>
	<div class="contain">
		<a href="https://www.udacity.com/" class="footer-logo">
			<img src="./Lesson 5, Web applications as services, using APIs - Udacity_files/logomark.svg" alt="Udacity">
		</a>
		<nav class="foot">
			<ul class="footer-nav">
				<li class="footer-nav-toggle">
					<h3>Popular Nanodegree Programs</h3>
					<ul class="nav-list">
						<li><a href="https://www.udacity.com/course/data-analyst-nanodegree--nd002">Data Analyst</a></li>
						<li><a href="https://www.udacity.com/course/ios-developer-nanodegree--nd003">iOS Developer</a></li>
						<li><a href="https://www.udacity.com/course/tech-entrepreneur-nanodegree--nd007">Tech Entrepreneur</a></li>
						<li><a href="https://www.udacity.com/course/machine-learning-engineer-nanodegree--nd009">Machine Learning Engineer</a></li>
						<li><a href="https://www.udacity.com/course/beginning-ruby--nd010">Beginning Ruby BETA</a></li>
						<li><a href="https://www.udacity.com/course/android-developer-nanodegree--nd801">Android Developer</a></li>
						<li><a href="https://www.udacity.com/course/senior-web-developer--nd802">Senior Web Developer</a></li>
					</ul>
				</li>
				<li class="footer-nav-toggle">
					<h3>Student Resources</h3>
					<ul class="nav-list">
						<li><a href="http://blog.udacity.com/">Blog</a></li>
						<li><a href="http://support.udacity.com/">Help&nbsp;&amp;&nbsp;FAQ</a></li>
						<li><a href="https://www.udacity.com/courses/all">Catalog</a></li>
						<li><a href="https://www.udacity.com/veterans">Veteran Programs</a></li>
						<li><a href="https://play.google.com/store/apps/details?id=com.udacity.android">Android App</a></li>
						<li><a href="https://itunes.apple.com/us/app/id819700933?mt=8">iOS App</a></li>
					</ul>
				</li>
				<li class="footer-nav-toggle">
					<h3>Udacity</h3>
					<ul class="nav-list">
						<li><a href="https://www.udacity.com/us">About</a></li>
						<li><a href="https://www.udacity.com/press">In the News</a></li>
						<li><a href="https://www.udacity.com/jobs">Jobs @ Udacity</a></li>
						<li><a href="https://www.udacity.com/georgia-tech">Georgia Tech</a></li>
						<li><a href="https://www.udacity.com/business">Udacity for Business</a></li>
						<li><a href="https://www.udacity.com/employers">Hire Graduates</a></li>
						<li><a href="https://www.udacity.com/success">Student Success</a></li>
					</ul>
				</li>
				<li class="footer-nav-toggle">
					<h3>Inquiries</h3>
					<ul class="nav-list">
						<!-- <li><a href="#">Press</a></li> -->
						<li><a href="https://www.udacity.com/contact">Contact Us</a></li>
						<li><a href="https://www.udacity.com/catalog-api">Developer API</a></li>
						<li><a href="https://www.udacity.com/legal">Legal</a></li>
						<li><a href="http://status.udacity.com/">Service Status</a></li>
						<li><a href="https://www.udacity.com/sitemap">Site Map</a></li>
					</ul>
				</li>
			</ul>
		</nav>
		<section class="footer-secondary">
			<div class="utility">
				
				<span class="copyright">Nanodegree is a trademark of Udacity <span>©&nbsp;2011–2016 Udacity, Inc.</span></span>
			</div>
			<nav class="social">
				<ul class="social-links">
					<li><a href="https://twitter.com/udacity"><img src="./Lesson 5, Web applications as services, using APIs - Udacity_files/twitter.svg" alt="Twitter"></a></li>
					<li><a href="https://www.facebook.com/Udacity"><img src="./Lesson 5, Web applications as services, using APIs - Udacity_files/facebook.svg" alt="Facebook"></a></li>
					<li><a href="https://plus.google.com/+Udacity/posts"><img src="./Lesson 5, Web applications as services, using APIs - Udacity_files/g_plus.svg" alt="Google +"></a></li>
					<li><a href="https://www.linkedin.com/company/udacity"><img src="./Lesson 5, Web applications as services, using APIs - Udacity_files/linkedin.svg" alt="LinkedIn"></a></li>
				</ul>
			</nav>
		</section>
	</div>
</footer>
<script>$(".footer-nav-toggle h3").click(function(a) {$(this).parent().toggleClass("nav--on"), a.preventDefault()});</script>

	

	

		<script src="./Lesson 5, Web applications as services, using APIs - Udacity_files/angular.min.js"></script>
		<script type="text/javascript">
			if (typeof angular === 'undefined') {
				document.write(unescape("%3Cscript src='/media/js/standalone/libs/angular/angular.min.js'%3E%3C/script%3E"));
			}
		</script>

	
		<script type="text/javascript" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/libs.min.js"></script>
<script type="text/javascript" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/udacity.min.js"></script>

	
	
	<script>
	(function() {
		angular.module('embedded').constant('freshContent', false);

		var courseTitles = {
			'punchcard': 'Intro to Punch Card Programming',
			'st095': 'Statistics',
			'ud061': 'Computability &amp; Algorithms',
			'ud409': 'Knowledge Based AI',
			'ud912': 'Software Architecture &amp; Design',
			'ud189': 'Advanced Operating Systems',
			'ud098': 'Advanced Operating Systems - Background',
			'ud702': 'Advanced Operating Systems - Part 1',
			'ud710': 'Advanced Operating Systems - Part 2',
			'ud712': 'Advanced Operating Systems - Part 3',
			'ud819': 'Computer Networks - Part 1',
			'ud399': 'Computer Networks - Part 2',
			'ud432': 'Computer Networks - Part 3',
			'ud233': 'High Performance Computer Architecture',
			'ud716': 'High Performance Computer Architecture - Part 2',
			'ud629': 'High Performance Computer Architecture - Part 3',
			'ud675': 'Machine Learning - Part 1',
			'ud741': 'Machine Learning 2 - Unsupervised Learning',
			'ud820': 'Machine Learning 3 - Reinforcement Learning',
			'ud957': 'Software Development Processes - Part 1',
			'ud175': 'Software Development Processes - Part 2',
			'ud904': 'Software Development Processes - Part 3',
			'ud494': 'Software Development Processes - Part 4',
			'ud037': 'Knowledge-Based AI: Cognitive Systems',
			'ud514': 'Introduction to Health Informatics',
			'ud557': 'Computability, Complexity &amp; Algorithms',
			'ud821': 'Software Architecture &amp; Design',
			'ud015-nd': 'Object-Oriented JavaScript',
			'ud032-nd': 'Data Wrangling with MongoDB',
			'ud036-nd': 'Programming Foundations with Python',
			'ud088-nd': 'Full Stack Foundations',
			'ud110-nd': 'Intro to AJAX',
			'ud120-nd': 'Intro to Machine Learning',
			'ud197-nd': 'Intro to Relational Databases',
			'ud245-nd': 'Intro to jQuery',
			'ud292-nd': 'HTML5 Canvas',
			'ud304-nd': 'Intro to HTML and CSS',
			'ud325-nd': 'iOS Persistence and Core Data',
			'ud359-nd': 'Intro to Data Science',
			'ud421-nd': 'iOS Networking with Swift',
			'ud507-nd': 'Data Visualization and D3.js',
			'ud552-nd': 'Telling Computers What to Do',
			'ud585-nd': 'Intro to iOS App Development with Swift',
			'ud645-nd': 'How to Use Other People\'s Code',
			'ud651-nd': 'Data Analysis with R',
			'ud721-nd': 'Webpages, Documents, and Structure',
			'ud775-nd': 'How to use Git and Github',
			'ud788-nd': 'UIKit Fundamentals',
			'ud804-nd': 'JavaScript Basics',
			'ud808-nd': 'How to Install Android Studio',
			'ud853-nd': 'Developing Android Apps',
			'ud855-nd': 'Advanced Android App Development',
			'ud858-nd': 'Scalable Apps in Python',
			'ud862-nd': 'Android Design for Developers',
			'ud867-nd': 'Gradle for Android and Java',
			'ud875-nd': 'Android Ubiquitous Computing',
			'ud876-nd': 'Google Play Services',
			'ud884-nd': 'Website Performance Optimization',
			'ud989-nd': 'JavaScript Design Patterns',
			'ud810': 'Introduction to Computer Vision',
			'ud955': 'Computational Photography',
			'ud923': 'Introduction to Operating Systems'
		};

		// this is a synchronous request so that angular finds the element during its initialization phase
		$.ajax({
			'url': '/public-api/v0/courses', 'dataType': 'json', 'async': false
		}).done(function (course_data) {
			$.each(course_data['courses'].concat(course_data['degrees']), function (index, value) {
				courseTitles[value['key']] = value['title'];
			});
		});

		// Find the course corresponding to the url which should be of the form
		// /wiki/<course-key> or /wiki/<course-key>/<other-stuff>
		var courseKey;
		var title;
		var pathSegments = window.location.pathname.toLowerCase().split('/');
		if (pathSegments.length > 2) {
			courseKey = pathSegments[2];
			title = courseTitles[courseKey];
		}


		var firstDiv = $('#wiki-content-wrapper > div').removeClass();
		if (account._registered) {
			if (title) {
				firstDiv.addClass('col-xs-11');
			} else {
				firstDiv.addClass('col-xs-12');
			}
		} else {
			firstDiv.addClass('col-xs-9');
		}

		var redirectTip;
		if (title) {
			$('#wiki-left-hand-nav-title-wrapper').append('<h1 class="h-slim left-hand-nav-title">' + title + '</h1>');
			redirectTip = '<div id="wiki-user-redirect" class="col-xs-2 alert alert-info">' +
				'Want to learn more about the class? ' +
				'<a href="/course/' + courseKey + '">Get more info</a>.</div>';

			$('#wiki-content-wrapper').prepend('<div left-hand-nav location="materials" course-key="\'' + courseKey + '\'"></div>');
		} else {
			redirectTip = '<div id="wiki-user-redirect" style="padding: 10px" class="col-xs-2 text-center table-bordered">' +
				'<img src="https://lh5.ggpht.com/JNwm6HcJ2c_2hpRNTiUzbd8bLWwHDCeJVrYrsmfr9h8WGecs3KnbyLTOsK0Qoory_ukDN7DzuKPzqmorWrA=s0#w=120&h=100" width="120" height="100"><br><br>' +
				'Can\'t find your way?<br>' +
				'<a href="/">Visit udacity.com</a></div>';
		}
		if (!account._registered) {
			firstDiv.parent().append(redirectTip);
		}
	})();
	</script>

	<script src="./Lesson 5, Web applications as services, using APIs - Udacity_files/mathquill.min.js"></script>

	<link href="./Lesson 5, Web applications as services, using APIs - Udacity_files/prettify.css" type="text/css" rel="stylesheet">
	<script type="text/javascript" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/prettify.js" charset="utf-8"></script>
	<script>
	$(document).ready(function() {
		prettyPrint();
	})
	</script>
	<script type="text/javascript" src="./Lesson 5, Web applications as services, using APIs - Udacity_files/jquery.highlight.js" charset="utf-8"></script>
	<script>
	$(document).ready(function() {
		var rx = /highlight=([^&]+)/;
		var match = rx.exec(window.location.search);
		if (match) {
			$('#pb').highlight(decodeURIComponent(match[1]));
		}
	})
	</script>


	<script type="text/javascript">
		angular.module('embedded').constant('couponCode', '');
		angular.module('embedded').constant('cacheVersion', '5069c47bacef628a7daa9059b2ecb134');
		angular.module('embedded').constant('gitRevision', '87042ac');
		angular.module('embedded').constant('secondsSinceEpoch', 1460605322);
		angular.module('embedded').constant('canManageSite', false);
		angular.module('embedded').constant('canEatDogFood',
			false);
		angular.module('embedded').constant('sessionLapsed', null);
		angular.module('embedded').constant('basicUser', window.account);
		angular.module('embedded').constant('siteExperience', {
			'affiliateExperienceId': 'udacity',
			'externalProgressSystem': false,
			'managedAccount': false,
			'limitedAccess': false
		});
    angular.module('embedded').constant('classroom2Url', 'https://classroom.udacity.com');
		angular.module('embedded').constant('cohorts', []);
	</script>


	<script>
		window.setTimeout(function(){
				$('body').append('<link rel="stylesheet" type="text/css" href="//cloud.typography.com/7419072/725522/css/fonts.css" media="print" />');
			});
	</script>


<link rel="stylesheet" type="text/css" href="./Lesson 5, Web applications as services, using APIs - Udacity_files/fonts.css" media="print"></body></html>